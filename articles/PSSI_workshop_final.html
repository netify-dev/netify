<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Netify: Workshop PSSI • netify</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Netify: Workshop PSSI">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">netify</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/ego_networks.html">Netify: Ego Networks</a></li>
    <li><a class="dropdown-item" href="../articles/manual_plotting.html">Netify: Manual Plotting with ggplot2</a></li>
    <li><a class="dropdown-item" href="../articles/PSSI_workshop_final.html">Netify: Workshop PSSI</a></li>
    <li><a class="dropdown-item" href="../articles/resources.html">Helpful Resources</a></li>
    <li><a class="dropdown-item" href="../articles/workshop_demo.html">Netify Workshop</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/netify-dev/netify/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Netify: Workshop PSSI</h1>
                        <h4 data-toc-skip class="author">Dorff, Keltner,
Minhas</h4>
            
            <h4 data-toc-skip class="date">2025-06-12</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/netify-dev/netify/blob/main/vignettes/PSSI_workshop_final.Rmd" class="external-link"><code>vignettes/PSSI_workshop_final.Rmd</code></a></small>
      <div class="d-none name"><code>PSSI_workshop_final.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="netify-workshop-pssi">Netify Workshop PSSI<a class="anchor" aria-label="anchor" href="#netify-workshop-pssi"></a>
</h2>
<p>Below is a demonstration of how to use the <strong>netify</strong> R
package to build and analyze various conflict networks. We will walk
through data preparation, network construction, summary statistics,
visualizations, and special use cases like weighted networks,
longitudinal networks, and bipartite networks.</p>
<div class="section level3">
<h3 id="setup">Setup<a class="anchor" aria-label="anchor" href="#setup"></a>
</h3>
<p>This section checks for necessary packages and installs them if they
are missing. We also load the <strong>netify</strong> package from
GitHub.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Load netify</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://netify-dev.github.io/netify/">netify</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Check/install additional packages for the vignette</span></span>
<span><span class="kw">if</span><span class="op">(</span><span class="op">!</span><span class="st">'tidyverse'</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">rownames</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/installed.packages.html" class="external-link">installed.packages</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">'tidyverse'</span>, repos<span class="op">=</span><span class="st">'https://cloud.r-project.org'</span><span class="op">)</span> <span class="op">}</span></span>
<span></span>
<span><span class="co"># Load other libraries needed</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org" class="external-link">tidyverse</a></span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## ── <span style="font-weight: bold;">Attaching core tidyverse packages</span> ──────────────────────── tidyverse 2.0.0 ──</span></span>
<span><span class="co">## <span style="color: #00BB00;">✔</span> <span style="color: #0000BB;">dplyr    </span> 1.1.4     <span style="color: #00BB00;">✔</span> <span style="color: #0000BB;">readr    </span> 2.1.5</span></span>
<span><span class="co">## <span style="color: #00BB00;">✔</span> <span style="color: #0000BB;">forcats  </span> 1.0.0     <span style="color: #00BB00;">✔</span> <span style="color: #0000BB;">stringr  </span> 1.5.1</span></span>
<span><span class="co">## <span style="color: #00BB00;">✔</span> <span style="color: #0000BB;">ggplot2  </span> 3.5.2     <span style="color: #00BB00;">✔</span> <span style="color: #0000BB;">tibble   </span> 3.3.0</span></span>
<span><span class="co">## <span style="color: #00BB00;">✔</span> <span style="color: #0000BB;">lubridate</span> 1.9.4     <span style="color: #00BB00;">✔</span> <span style="color: #0000BB;">tidyr    </span> 1.3.1</span></span>
<span><span class="co">## <span style="color: #00BB00;">✔</span> <span style="color: #0000BB;">purrr    </span> 1.0.4     </span></span>
<span><span class="co">## ── <span style="font-weight: bold;">Conflicts</span> ────────────────────────────────────────── tidyverse_conflicts() ──</span></span>
<span><span class="co">## <span style="color: #BB0000;">✖</span> <span style="color: #0000BB;">dplyr</span>::<span style="color: #00BB00;">filter()</span> masks <span style="color: #0000BB;">stats</span>::filter()</span></span>
<span><span class="co">## <span style="color: #BB0000;">✖</span> <span style="color: #0000BB;">dplyr</span>::<span style="color: #00BB00;">lag()</span>    masks <span style="color: #0000BB;">stats</span>::lag()</span></span>
<span><span class="co">## <span style="color: #00BBBB;">ℹ</span> Use the conflicted package (<span style="color: #0000BB; font-style: italic;">&lt;http://conflicted.r-lib.org/&gt;</span>) to force all conflicts to become errors</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="case-examples-using-ucdp-ged">Case Examples Using UCDP GED<a class="anchor" aria-label="anchor" href="#case-examples-using-ucdp-ged"></a>
</h3>
<p>We will use the <a href="https://ucdp.uu.se/downloads/" class="external-link">UCDP GED</a>
data to demonstrate <strong>netify</strong>. Specifically, we’ll look at
conflict events in Mexico and Myanmar (Burma).</p>
<div class="section level4">
<h4 id="basic-aggregated-network-mexican-case">1. Basic Aggregated Network (Mexican Case)<a class="anchor" aria-label="anchor" href="#basic-aggregated-network-mexican-case"></a>
</h4>
<p>We first import the GED dataset, filter for Mexico, and construct a
simple network (unweighted) based on the number of conflict events
between actors.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Load UCDP GED data on Mexico</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">mexico</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Construct unweighted network (number_of_events by default)</span></span>
<span><span class="va">mex_network</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/netify.html">netify</a></span><span class="op">(</span></span>
<span>  <span class="va">mexico</span>,</span>
<span>  actor1 <span class="op">=</span> <span class="st">'side_a'</span>,</span>
<span>  actor2 <span class="op">=</span> <span class="st">'side_b'</span>,</span>
<span>  symmetric <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  sum_dyads <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  diag_to_NA <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  missing_to_zero <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="color: #BBBB00;">!</span> Warning: there are repeating dyads within time periods in the dataset. When `sum_dyads = TRUE` and `weight` is not supplied, edges in the outputted adjacency matrix represent a count of interactions between actors.</span></span></code></pre>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mex_network_log</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/transform_weights.html">transform_weights</a></span><span class="op">(</span></span>
<span>  <span class="va">mex_network</span>, </span>
<span>  transform_fn <span class="op">=</span> <span class="va">log</span>,</span>
<span>  add_constant <span class="op">=</span> <span class="fl">1</span>,  <span class="co"># Add 1 before log to handle zeros</span></span>
<span>  new_name <span class="op">=</span> <span class="st">"log_events"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">mex_bin</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/transform_weights.html">transform_weights</a></span><span class="op">(</span></span>
<span>  <span class="va">mex_network</span>, </span>
<span>  transform_fn <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">x</span> <span class="op">&gt;</span> <span class="fl">0</span>, <span class="fl">1</span>, <span class="fl">0</span><span class="op">)</span>,</span>
<span>  new_name <span class="op">=</span> <span class="st">"conflict_present"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="color: #00BBBB;">ℹ</span> network has been binarized through transformation</span></span></code></pre>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Summaries at the graph and actor levels</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">mex_network</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##   num_actors    density num_edges prop_edges_missing mean_edge_weight</span></span>
<span><span class="co">## 1         74 0.02520088       138                  0         7.018512</span></span>
<span><span class="co">##   sd_edge_weight median_edge_weight min_edge_weight max_edge_weight competition</span></span>
<span><span class="co">## 1        113.395                  0               0            3757   0.1371326</span></span>
<span><span class="co">##   sd_of_actor_means transitivity</span></span>
<span><span class="co">## 1          21.37264    0.1046512</span></span></code></pre>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">actor_stats</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/summary_actor.html">summary_actor</a></span><span class="op">(</span><span class="va">mex_network</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/plot_actor_stats.html">plot_actor_stats</a></span><span class="op">(</span><span class="va">actor_stats</span><span class="op">)</span></span></code></pre></div>
<p><img src="PSSI_workshop_final_files/figure-html/basic_agg_network-1.png" width="1093.75"></p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Visualize the network</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">mex_network</span>, add_text <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Warning: Removed 69 rows containing missing values or values outside the scale range</span></span>
<span><span class="co">## (`geom_segment()`).</span></span></code></pre>
<p><img src="PSSI_workshop_final_files/figure-html/basic_agg_network-2.png" width="1093.75"></p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Show a subset of 10 random actor names for clarity</span></span>
<span><span class="va">select_names</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">rownames</a></span><span class="op">(</span><span class="va">mex_network</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">12345</span><span class="op">)</span></span>
<span><span class="va">random_indices</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">select_names</span><span class="op">)</span>, <span class="fl">10</span><span class="op">)</span></span>
<span><span class="va">random_names</span> <span class="op">&lt;-</span> <span class="va">select_names</span><span class="op">[</span><span class="va">random_indices</span><span class="op">]</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">mex_network</span>,</span>
<span>     select_text <span class="op">=</span> <span class="va">random_names</span>,</span>
<span>     select_text_display <span class="op">=</span> <span class="va">random_names</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Warning: Removed 69 rows containing missing values or values outside the scale range</span></span>
<span><span class="co">## (`geom_segment()`).</span></span></code></pre>
<pre><code><span><span class="co">## Warning: Removed 64 rows containing missing values or values outside the scale range</span></span>
<span><span class="co">## (`geom_text()`).</span></span></code></pre>
<p><img src="PSSI_workshop_final_files/figure-html/basic_agg_network-3.png" width="1093.75"></p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">mex_network</span>,</span>
<span>     select_text <span class="op">=</span> <span class="va">random_names</span>,</span>
<span>     select_text_display <span class="op">=</span> <span class="va">random_names</span>, </span>
<span>     <span class="co"># log(x+1) to better see range of connects</span></span>
<span>     weight_transform <span class="op">=</span> <span class="va">log1p</span></span>
<span>     <span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Warning: Removed 69 rows containing missing values or values outside the scale range</span></span>
<span><span class="co">## (`geom_segment()`).</span></span>
<span><span class="co">## Removed 64 rows containing missing values or values outside the scale range</span></span>
<span><span class="co">## (`geom_text()`).</span></span></code></pre>
<p><img src="PSSI_workshop_final_files/figure-html/basic_agg_network-4.png" width="1093.75"></p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># break p2 into pieces</span></span>
<span><span class="va">comp</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span></span>
<span>  <span class="va">mex_network</span>,</span>
<span>  remove_isolates <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  select_text <span class="op">=</span> <span class="va">random_names</span>,</span>
<span>  select_text_display <span class="op">=</span> <span class="va">random_names</span>,              </span>
<span>  weight_transform <span class="op">=</span> <span class="va">log1p</span>,</span>
<span>  return_components <span class="op">=</span> <span class="cn">TRUE</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="co"># Basic usage - just edges</span></span>
<span><span class="va">comp</span><span class="op">$</span><span class="va">base</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="../reference/netify_edge.html">netify_edge</a></span><span class="op">(</span><span class="va">comp</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>alpha<span class="op">=</span><span class="st">'Log(Event Count)'</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/reset_scales.html">reset_scales</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/netify_node.html">netify_node</a></span><span class="op">(</span><span class="va">comp</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/netify_text.html">netify_text</a></span><span class="op">(</span><span class="va">comp</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="va">comp</span><span class="op">$</span><span class="va">theme</span></span></code></pre></div>
<pre><code><span><span class="co">## Warning: Removed 69 rows containing missing values or values outside the scale range</span></span>
<span><span class="co">## (`geom_segment()`).</span></span>
<span><span class="co">## Removed 64 rows containing missing values or values outside the scale range</span></span>
<span><span class="co">## (`geom_text()`).</span></span></code></pre>
<p><img src="PSSI_workshop_final_files/figure-html/basic_agg_network-5.png" width="1093.75"></p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># and even simpler</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">mex_network</span>, </span>
<span>     weight_transform <span class="op">=</span> <span class="va">log1p</span>,</span>
<span>     edge_alpha_label <span class="op">=</span> <span class="st">"Log(Event Count)"</span>,</span>
<span>     select_text <span class="op">=</span> <span class="va">random_names</span>,</span>
<span>     select_text_display <span class="op">=</span> <span class="va">random_names</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Warning: Removed 69 rows containing missing values or values outside the scale range</span></span>
<span><span class="co">## (`geom_segment()`).</span></span>
<span><span class="co">## Removed 64 rows containing missing values or values outside the scale range</span></span>
<span><span class="co">## (`geom_text()`).</span></span></code></pre>
<p><img src="PSSI_workshop_final_files/figure-html/basic_agg_network-6.png" width="1093.75"></p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># add degree centrality </span></span>
<span><span class="va">mex_network</span> <span class="op">=</span> <span class="fu"><a href="../reference/add_node_vars.html">add_node_vars</a></span><span class="op">(</span></span>
<span>  <span class="va">mex_network</span>, </span>
<span>  <span class="fu"><a href="../reference/summary_actor.html">summary_actor</a></span><span class="op">(</span><span class="va">mex_network</span><span class="op">)</span>, </span>
<span>  actor<span class="op">=</span><span class="st">'actor'</span> <span class="op">)</span></span>
<span></span>
<span><span class="co">#</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">mex_network</span>, </span>
<span>     weight_transform <span class="op">=</span> <span class="va">log1p</span>,</span>
<span>     edge_alpha_label <span class="op">=</span> <span class="st">"Log(Event Count)"</span>,</span>
<span>     point_size_var<span class="op">=</span><span class="st">'degree'</span>,</span>
<span>     point_size_label<span class="op">=</span><span class="st">'Degree'</span>,</span>
<span>     point_alpha<span class="op">=</span><span class="fl">.5</span></span>
<span>    <span class="co">#  select_text = random_names,</span></span>
<span>    <span class="co">#  select_text_display = random_names,</span></span>
<span>    <span class="co">#  check_overlap=TRUE</span></span>
<span>    <span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Warning: Removed 69 rows containing missing values or values outside the scale range</span></span>
<span><span class="co">## (`geom_segment()`).</span></span></code></pre>
<p><img src="PSSI_workshop_final_files/figure-html/basic_agg_network-7.png" width="1093.75"></p>
</div>
<div class="section level4">
<h4 id="weighted-network-mexican-case">2. Weighted Network (Mexican Case)<a class="anchor" aria-label="anchor" href="#weighted-network-mexican-case"></a>
</h4>
<p>Next, we create a weighted network using the civilian deaths
variable.</p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Weighted by civilian deaths</span></span>
<span><span class="va">mex_network_civ</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/netify.html">netify</a></span><span class="op">(</span></span>
<span>  <span class="va">mexico</span>,</span>
<span>  actor1 <span class="op">=</span> <span class="st">'side_a'</span>,</span>
<span>  actor2 <span class="op">=</span> <span class="st">'side_b'</span>,</span>
<span>  weight <span class="op">=</span> <span class="st">'deaths_civilians'</span>,</span>
<span>  symmetric <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  sum_dyads <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  diag_to_NA <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  missing_to_zero <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Summaries and visualization</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">mex_network_civ</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##   num_actors    density num_edges prop_edges_missing mean_edge_weight</span></span>
<span><span class="co">## 1         74 0.01680058        92                  0        0.4813032</span></span>
<span><span class="co">##   sd_edge_weight median_edge_weight min_edge_weight max_edge_weight competition</span></span>
<span><span class="co">## 1       8.809874                  0               0             380    0.159834</span></span>
<span><span class="co">##   sd_of_actor_means transitivity</span></span>
<span><span class="co">## 1          1.594563    0.1458333</span></span></code></pre>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">mex_network_civ</span>, add_text <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Warning: Removed 46 rows containing missing values or values outside the scale range</span></span>
<span><span class="co">## (`geom_segment()`).</span></span></code></pre>
<p><img src="PSSI_workshop_final_files/figure-html/weighted_network-1.png" width="1093.75"></p>
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Subset of labels for clarity</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">mex_network_civ</span>,</span>
<span>     select_text <span class="op">=</span> <span class="va">random_names</span>,</span>
<span>     select_text_display <span class="op">=</span> <span class="va">random_names</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Warning: Removed 46 rows containing missing values or values outside the scale range</span></span>
<span><span class="co">## (`geom_segment()`).</span></span></code></pre>
<pre><code><span><span class="co">## Warning: Removed 40 rows containing missing values or values outside the scale range</span></span>
<span><span class="co">## (`geom_text()`).</span></span></code></pre>
<p><img src="PSSI_workshop_final_files/figure-html/weighted_network-2.png" width="1093.75"></p>
<div class="sourceCode" id="cb30"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Example: community detection (optimal clustering)</span></span>
<span><span class="va">i_opt_memb</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">{</span></span>
<span>  <span class="va">ig</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/netify_to_igraph.html">netify_to_igraph</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span>
<span>  <span class="va">memb</span> <span class="op">&lt;-</span> <span class="fu">igraph</span><span class="fu">::</span><span class="fu"><a href="https://r.igraph.org/reference/cluster_optimal.html" class="external-link">cluster_optimal</a></span><span class="op">(</span><span class="va">ig</span><span class="op">)</span><span class="op">$</span><span class="va">membership</span></span>
<span>  <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="va">memb</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span><span class="va">sum_mex</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/summary_actor.html">summary_actor</a></span><span class="op">(</span></span>
<span>  <span class="va">mex_network_civ</span>, </span>
<span>  other_stats <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>i_opt_memb <span class="op">=</span> <span class="va">i_opt_memb</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Example: add nodal-level data (e.g., number_of_sources)</span></span>
<span><span class="va">size_by_source_count</span> <span class="op">&lt;-</span> <span class="va">mexico</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/pivot_longer.html" class="external-link">pivot_longer</a></span><span class="op">(</span>cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">side_a</span>, <span class="va">side_b</span><span class="op">)</span>, </span>
<span>               names_to <span class="op">=</span> <span class="st">"actor_type"</span>, </span>
<span>               values_to <span class="op">=</span> <span class="st">"actor"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">actor</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">summarize</a></span><span class="op">(</span>size_by_source_count <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">number_of_sources</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">ungroup</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="va">mex_network_civ</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_node_vars.html">add_node_vars</a></span><span class="op">(</span></span>
<span>  netlet <span class="op">=</span> <span class="va">mex_network_civ</span>,</span>
<span>  node_data <span class="op">=</span> <span class="va">size_by_source_count</span>,</span>
<span>  actor <span class="op">=</span> <span class="st">'actor'</span>,</span>
<span>  node_vars <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'size_by_source_count'</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Plot with color and size based on external data</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">mex_network_civ</span>, </span>
<span>     point_color_var <span class="op">=</span> <span class="st">'size_by_source_count'</span>,</span>
<span>     point_size<span class="op">=</span><span class="fl">4</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Warning: Removed 46 rows containing missing values or values outside the scale range</span></span>
<span><span class="co">## (`geom_segment()`).</span></span></code></pre>
<p><img src="PSSI_workshop_final_files/figure-html/weighted_network-3.png" width="1093.75"></p>
<div class="sourceCode" id="cb32"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Filter large nodes for labeling</span></span>
<span><span class="va">large_nodes</span> <span class="op">&lt;-</span> <span class="va">size_by_source_count</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">size_by_source_count</span> <span class="op">&gt;=</span> <span class="fl">1000</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">actor</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://rdrr.io/r/base/unlist.html" class="external-link">unlist</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span></span>
<span>  <span class="va">mex_network_civ</span>,</span>
<span>  point_color_var <span class="op">=</span> <span class="st">'size_by_source_count'</span>,</span>
<span>  point_size<span class="op">=</span><span class="fl">4</span>,</span>
<span>  select_text <span class="op">=</span> <span class="va">large_nodes</span>,                   </span>
<span>  select_text_display <span class="op">=</span> <span class="va">large_nodes</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Warning: Removed 46 rows containing missing values or values outside the scale range</span></span>
<span><span class="co">## (`geom_segment()`).</span></span>
<span><span class="co">## Removed 40 rows containing missing values or values outside the scale range</span></span>
<span><span class="co">## (`geom_text()`).</span></span></code></pre>
<p><img src="PSSI_workshop_final_files/figure-html/weighted_network-4.png" width="1093.75"></p>
</div>
<div class="section level4">
<h4 id="longitudinal-network-mexican-case">3. Longitudinal Network (Mexican Case)<a class="anchor" aria-label="anchor" href="#longitudinal-network-mexican-case"></a>
</h4>
<p>We can also create time-varying networks. Here, we use the
<strong>year</strong> field to construct a series of networks.</p>
<div class="sourceCode" id="cb34"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Create a time-varying network</span></span>
<span><span class="va">mex_network_long</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/netify.html">netify</a></span><span class="op">(</span></span>
<span>  <span class="va">mexico</span>,</span>
<span>  actor1 <span class="op">=</span> <span class="st">'side_a'</span>,</span>
<span>  actor2 <span class="op">=</span> <span class="st">'side_b'</span>,</span>
<span>  time <span class="op">=</span> <span class="st">'year'</span>,      </span>
<span>  weight <span class="op">=</span> <span class="st">'deaths_civilians'</span>,</span>
<span>  symmetric <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  sum_dyads <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  diag_to_NA <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  missing_to_zero <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span>  </span>
<span></span>
<span><span class="co"># Summaries over time at actor level</span></span>
<span><span class="va">summary_actor_mex</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/summary_actor.html">summary_actor</a></span><span class="op">(</span><span class="va">mex_network_long</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Look at distribution of actor stats</span></span>
<span><span class="fu"><a href="../reference/plot_actor_stats.html">plot_actor_stats</a></span><span class="op">(</span><span class="va">summary_actor_mex</span>, across_actor <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Picking joint bandwidth of 0.199</span></span></code></pre>
<pre><code><span><span class="co">## Picking joint bandwidth of 0.0277</span></span></code></pre>
<pre><code><span><span class="co">## Picking joint bandwidth of 1.85</span></span></code></pre>
<pre><code><span><span class="co">## Picking joint bandwidth of 0.0503</span></span></code></pre>
<pre><code><span><span class="co">## Picking joint bandwidth of 0.202</span></span></code></pre>
<pre><code><span><span class="co">## Picking joint bandwidth of 0.381</span></span></code></pre>
<pre><code><span><span class="co">## Picking joint bandwidth of 0.0238</span></span></code></pre>
<pre><code><span><span class="co">## Picking joint bandwidth of 1.17</span></span></code></pre>
<pre><code><span><span class="co">## Picking joint bandwidth of 0.127</span></span></code></pre>
<pre><code><span><span class="co">## Picking joint bandwidth of 0.0786</span></span></code></pre>
<pre><code><span><span class="co">## Warning: Removed 2169 rows containing non-finite outside the scale range</span></span>
<span><span class="co">## (`stat_density_ridges()`).</span></span></code></pre>
<p><img src="PSSI_workshop_final_files/figure-html/longitudinal_network-1.png" width="1093.75"></p>
<div class="sourceCode" id="cb46"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Focus on closeness measure</span></span>
<span><span class="fu"><a href="../reference/plot_actor_stats.html">plot_actor_stats</a></span><span class="op">(</span><span class="va">summary_actor_mex</span>, </span>
<span>                 across_actor <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>                 specific_stats <span class="op">=</span> <span class="st">'closeness'</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Picking joint bandwidth of 1.17</span></span></code></pre>
<pre><code><span><span class="co">## Warning: Removed 2021 rows containing non-finite outside the scale range</span></span>
<span><span class="co">## (`stat_density_ridges()`).</span></span></code></pre>
<p><img src="PSSI_workshop_final_files/figure-html/longitudinal_network-2.png" width="1093.75"></p>
<div class="sourceCode" id="cb49"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Visualize</span></span>
<span><span class="fu"><a href="../reference/plot.netify.html">plot.netify</a></span><span class="op">(</span><span class="va">mex_network_long</span>,</span>
<span>            static_actor_positions <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>            remove_isolates <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Warning: Removed 161 rows containing missing values or values outside the scale range</span></span>
<span><span class="co">## (`geom_segment()`).</span></span></code></pre>
<p><img src="PSSI_workshop_final_files/figure-html/longitudinal_network-3.png" width="1093.75"></p>
<div class="sourceCode" id="cb51"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Example: subset for selected years</span></span>
<span><span class="va">mex_network_short</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/subset_netify.html">subset_netify</a></span><span class="op">(</span><span class="va">mex_network_long</span>,</span>
<span>                                   time <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"2006"</span>, <span class="st">"2008"</span>, </span>
<span>                                           <span class="st">"2010"</span>, <span class="st">"2012"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">mex_network_short</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="color: #00BB00;">✔</span> Hello, you have created network data, yay!</span></span>
<span><span class="co">## • Unipartite</span></span>
<span><span class="co">## • Symmetric</span></span>
<span><span class="co">## • Sum of Weights from `deaths_civilians`</span></span>
<span><span class="co">## • Longitudinal: 4 Periods</span></span>
<span><span class="co">## • # Unique Actors: 74</span></span>
<span><span class="co">## Network Summary Statistics (averaged across time):</span></span>
<span><span class="co">##                   dens miss  mean trans</span></span>
<span><span class="co">## deaths_civilians 0.002    0 0.016  0.05</span></span>
<span><span class="co">## • Nodal Features: None</span></span>
<span><span class="co">## • Dyad Features: None</span></span></code></pre>
<div class="sourceCode" id="cb53"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">mex_network_short</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Warning: Removed 17 rows containing missing values or values outside the scale range</span></span>
<span><span class="co">## (`geom_segment()`).</span></span></code></pre>
<p><img src="PSSI_workshop_final_files/figure-html/longitudinal_network-4.png" width="1093.75"></p>
</div>
</div>
<div class="section level3">
<h3 id="myanmar-ucdp-ged-dataset">Myanmar UCDP GED Dataset<a class="anchor" aria-label="anchor" href="#myanmar-ucdp-ged-dataset"></a>
</h3>
<p>Let’s now repeat similar steps for conflict data in Myanmar
(Burma).</p>
<div class="sourceCode" id="cb55"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># UCDP data for Myanmar</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">myanmar</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Create basic network</span></span>
<span><span class="va">my_network</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/netify.html">netify</a></span><span class="op">(</span></span>
<span>  <span class="va">myanmar</span>,</span>
<span>  actor1 <span class="op">=</span> <span class="st">'side_a'</span>,</span>
<span>  actor2 <span class="op">=</span> <span class="st">'side_b'</span>,</span>
<span>  symmetric <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  sum_dyads <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  diag_to_NA <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  missing_to_zero <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="color: #BBBB00;">!</span> Warning: there are repeating dyads within time periods in the dataset. When `sum_dyads = TRUE` and `weight` is not supplied, edges in the outputted adjacency matrix represent a count of interactions between actors.</span></span></code></pre>
<div class="sourceCode" id="cb57"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">my_network</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##   num_actors    density num_edges prop_edges_missing mean_edge_weight</span></span>
<span><span class="co">## 1         27 0.07956104        58                  0         21.00855</span></span>
<span><span class="co">##   sd_edge_weight median_edge_weight min_edge_weight max_edge_weight competition</span></span>
<span><span class="co">## 1       183.2769                  0               0            2535   0.2944592</span></span>
<span><span class="co">##   sd_of_actor_means transitivity</span></span>
<span><span class="co">## 1          56.44117   0.06637168</span></span></code></pre>
<div class="sourceCode" id="cb59"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Weighted by civilian deaths</span></span>
<span><span class="va">my_network_civ</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/netify.html">netify</a></span><span class="op">(</span></span>
<span>  <span class="va">myanmar</span>,</span>
<span>  actor1 <span class="op">=</span> <span class="st">'side_a'</span>,</span>
<span>  actor2 <span class="op">=</span> <span class="st">'side_b'</span>,</span>
<span>  weight <span class="op">=</span> <span class="st">'deaths_civilians'</span>,</span>
<span>  symmetric <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  sum_dyads <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  diag_to_NA <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  missing_to_zero <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Plot with labels</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">my_network_civ</span>, add_text <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Warning: Removed 22 rows containing missing values or values outside the scale range</span></span>
<span><span class="co">## (`geom_segment()`).</span></span></code></pre>
<p><img src="PSSI_workshop_final_files/figure-html/myanmar_data-1.png" width="1093.75"></p>
<div class="section level4">
<h4 id="adding-nodal-attributes-myanmar-case">Adding Nodal Attributes (Myanmar Case)<a class="anchor" aria-label="anchor" href="#adding-nodal-attributes-myanmar-case"></a>
</h4>
<p>We define various attribute categories (government, non-government,
ethnic/ideological, armed, etc.) and add those as node-level data.</p>
<div class="sourceCode" id="cb61"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Define actor categories</span></span>
<span><span class="va">gov_actors</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Government of Myanmar (Burma)"</span>, <span class="st">"BMA"</span>, <span class="st">"NUG"</span><span class="op">)</span></span>
<span><span class="va">nongov_actors</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>  <span class="st">"KNU"</span>, <span class="st">"MTA"</span>, <span class="st">"DKBA"</span>, <span class="st">"MDA"</span>, <span class="st">"RCSS"</span>, <span class="st">"Buddhists (Myanmar)"</span>, <span class="st">"ARSA"</span>,</span>
<span>  <span class="st">"Civilians"</span>, <span class="st">"KNPP"</span>, <span class="st">"KIO"</span>, <span class="st">"RSO"</span>, <span class="st">"UWSA"</span>, <span class="st">"NMSP"</span>, <span class="st">"ABSDF"</span>, <span class="st">"NSCN-K"</span>,</span>
<span>  <span class="st">"PSLF"</span>, <span class="st">"God's Army"</span>, <span class="st">"MDA - LM"</span>, <span class="st">"CNF"</span>, <span class="st">"Muslims (Myanmar)"</span>, <span class="st">"SSPP"</span>,</span>
<span>  <span class="st">"DKBA 5"</span>, <span class="st">"MNDAA"</span>, <span class="st">"ULA"</span></span>
<span><span class="op">)</span></span>
<span><span class="va">ethnic_actors</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>  <span class="st">"KNU"</span>, <span class="st">"RCSS"</span>, <span class="st">"KIO"</span>, <span class="st">"UWSA"</span>, <span class="st">"NMSP"</span>, <span class="st">"KNPP"</span>, <span class="st">"NSCN-K"</span>, <span class="st">"CNF"</span>, <span class="st">"PSLF"</span>, <span class="st">"SSPP"</span>,</span>
<span>  <span class="st">"MTA"</span>, <span class="st">"DKBA"</span>, <span class="st">"MDA"</span>, <span class="st">"RSO"</span>, <span class="st">"God's Army"</span>, <span class="st">"MDA - LM"</span>, <span class="st">"DKBA 5"</span>, <span class="st">"MNDAA"</span>, <span class="st">"ULA"</span></span>
<span><span class="op">)</span></span>
<span><span class="va">ideological_actors</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>  <span class="st">"Government of Myanmar (Burma)"</span>, <span class="st">"NUG"</span>, <span class="st">"ARSA"</span>, <span class="st">"ABSDF"</span>, <span class="st">"Civilians"</span>,</span>
<span>  <span class="st">"Buddhists (Myanmar)"</span>, <span class="st">"Muslims (Myanmar)"</span>, <span class="st">"BMA"</span></span>
<span><span class="op">)</span></span>
<span><span class="va">armed_actors</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>  <span class="st">"KNU"</span>, <span class="st">"MTA"</span>, <span class="st">"DKBA"</span>, <span class="st">"MDA"</span>, <span class="st">"RCSS"</span>, <span class="st">"ARSA"</span>, <span class="st">"NMSP"</span>, <span class="st">"KNPP"</span>, <span class="st">"KIO"</span>, <span class="st">"RSO"</span>,</span>
<span>  <span class="st">"UWSA"</span>, <span class="st">"ABSDF"</span>, <span class="st">"NSCN-K"</span>, <span class="st">"PSLF"</span>, <span class="st">"God's Army"</span>, <span class="st">"DKBA 5"</span>, <span class="st">"MNDAA"</span>, <span class="st">"ULA"</span>,</span>
<span>  <span class="st">"CNF"</span>, <span class="st">"SSPP"</span>, <span class="st">"NUG"</span>, <span class="st">"MDA - LM"</span></span>
<span><span class="op">)</span></span>
<span><span class="va">non_armed_actors</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>  <span class="st">"Government of Myanmar (Burma)"</span>, <span class="st">"BMA"</span>, <span class="st">"Civilians"</span>, </span>
<span>  <span class="st">"Buddhists (Myanmar)"</span>, <span class="st">"Muslims (Myanmar)"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Create a data frame for nodal attributes</span></span>
<span><span class="va">actors</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">myanmar</span><span class="op">$</span><span class="va">side_a</span>, <span class="va">myanmar</span><span class="op">$</span><span class="va">side_b</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">node_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  actor <span class="op">=</span> <span class="va">actors</span>,</span>
<span>  gov_or_nongov <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">actors</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="va">gov_actors</span>, <span class="fl">1</span>, </span>
<span>                         <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">actors</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="va">nongov_actors</span>, <span class="fl">0</span>, <span class="cn">NA</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  ethnic_or_ideological <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">actors</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="va">ethnic_actors</span>, <span class="fl">1</span>, </span>
<span>                                 <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">actors</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="va">ideological_actors</span>, <span class="fl">0</span>, <span class="cn">NA</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  armed_or_not <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">actors</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="va">armed_actors</span>, <span class="fl">1</span>, </span>
<span>                        <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">actors</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="va">non_armed_actors</span>, <span class="fl">0</span>, <span class="cn">NA</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">node_data</span> <span class="op">&lt;-</span> <span class="va">node_data</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate_all.html" class="external-link">mutate_all</a></span><span class="op">(</span><span class="va">as.factor</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Add these attributes to the network</span></span>
<span><span class="va">my_network_civ</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_node_vars.html">add_node_vars</a></span><span class="op">(</span><span class="va">my_network_civ</span>, </span>
<span>                            node_data <span class="op">=</span> <span class="va">node_data</span>, </span>
<span>                            actor <span class="op">=</span> <span class="st">'actor'</span>, </span>
<span>                            node_vars <span class="op">=</span> <span class="st">'gov_or_nongov'</span><span class="op">)</span></span>
<span><span class="va">my_network_civ</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_node_vars.html">add_node_vars</a></span><span class="op">(</span><span class="va">my_network_civ</span>, </span>
<span>                            node_data <span class="op">=</span> <span class="va">node_data</span>, </span>
<span>                            actor <span class="op">=</span> <span class="st">'actor'</span>, </span>
<span>                            node_vars <span class="op">=</span> <span class="st">'ethnic_or_ideological'</span><span class="op">)</span></span>
<span><span class="va">my_network_civ</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_node_vars.html">add_node_vars</a></span><span class="op">(</span><span class="va">my_network_civ</span>, </span>
<span>                            node_data <span class="op">=</span> <span class="va">node_data</span>, </span>
<span>                            actor <span class="op">=</span> <span class="st">'actor'</span>, </span>
<span>                            node_vars <span class="op">=</span> <span class="st">'armed_or_not'</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Plot with different color encoding</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span></span>
<span>  <span class="va">my_network_civ</span>,</span>
<span>  title <span class="op">=</span> <span class="st">"Myanmar Network"</span>,</span>
<span>  point_color_var <span class="op">=</span> <span class="st">"gov_or_nongov"</span>, </span>
<span>  layout <span class="op">=</span> <span class="st">"circle"</span>,</span>
<span>  add_text <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Warning: Removed 22 rows containing missing values or values outside the scale range</span></span>
<span><span class="co">## (`geom_segment()`).</span></span></code></pre>
<p><img src="PSSI_workshop_final_files/figure-html/nodal_attributes-1.png" width="1093.75"></p>
<div class="sourceCode" id="cb63"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span></span>
<span>  <span class="va">my_network_civ</span>,</span>
<span>  title <span class="op">=</span> <span class="st">"Myanmar Network"</span>,</span>
<span>  point_color_var <span class="op">=</span> <span class="st">"ethnic_or_ideological"</span>, </span>
<span>  layout <span class="op">=</span> <span class="st">"circle"</span>,</span>
<span>  add_text <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Warning: Removed 22 rows containing missing values or values outside the scale range</span></span>
<span><span class="co">## (`geom_segment()`).</span></span></code></pre>
<p><img src="PSSI_workshop_final_files/figure-html/nodal_attributes-2.png" width="1093.75"></p>
</div>
<div class="section level4">
<h4 id="bipartite-network-myanmar-case">Bipartite Network (Myanmar Case)<a class="anchor" aria-label="anchor" href="#bipartite-network-myanmar-case"></a>
</h4>
<p>Finally, we illustrate a bipartite network example, focusing on
interactions between Buddhist and Christian actors in Myanmar.</p>
<div class="sourceCode" id="cb65"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Define actors by religion</span></span>
<span><span class="va">buddhist_actors</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"PSLF"</span>, <span class="st">"DKBA"</span>, <span class="st">"God's Army"</span>, <span class="st">"Government of Myanmar (Burma)"</span><span class="op">)</span></span>
<span><span class="va">christian_actors</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"KNU"</span>, <span class="st">"KNPP"</span>, <span class="st">"KIO"</span>, <span class="st">"MDA"</span>, <span class="st">"NSCN-K"</span>, <span class="st">"CNF"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">selected_actors</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">buddhist_actors</span>, <span class="va">christian_actors</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Subset data for only these actors</span></span>
<span><span class="va">myanmar_bipartite</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/subset.html" class="external-link">subset</a></span><span class="op">(</span><span class="va">myanmar</span>, </span>
<span>                            <span class="va">side_a</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="va">selected_actors</span> <span class="op">&amp;</span> <span class="va">side_b</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="va">selected_actors</span><span class="op">)</span></span>
<span><span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">myanmar_bipartite</span><span class="op">)</span> <span class="op">==</span> <span class="fl">0</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="kw"><a href="https://rdrr.io/r/base/stop.html" class="external-link">stop</a></span><span class="op">(</span><span class="st">"No data for the specified Buddhist-Christian interactions."</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co"># Tag each side as Buddhist or Christian</span></span>
<span><span class="va">myanmar_bipartite</span><span class="op">$</span><span class="va">actor_type_a</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span></span>
<span>  <span class="va">myanmar_bipartite</span><span class="op">$</span><span class="va">side_a</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="va">buddhist_actors</span>, <span class="st">"Buddhist"</span>, <span class="st">"Christian"</span><span class="op">)</span></span>
<span><span class="va">myanmar_bipartite</span><span class="op">$</span><span class="va">actor_type_b</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span></span>
<span>  <span class="va">myanmar_bipartite</span><span class="op">$</span><span class="va">side_b</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="va">buddhist_actors</span>, <span class="st">"Buddhist"</span>, <span class="st">"Christian"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Construct bipartite network</span></span>
<span><span class="va">bipartite_network</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/netify.html">netify</a></span><span class="op">(</span></span>
<span>  <span class="va">myanmar_bipartite</span>,</span>
<span>  actor1 <span class="op">=</span> <span class="st">'side_a'</span>,</span>
<span>  actor2 <span class="op">=</span> <span class="st">'side_b'</span>,</span>
<span>  mode <span class="op">=</span> <span class="st">'bipartite'</span>,</span>
<span>  weight <span class="op">=</span> <span class="st">'deaths_civilians'</span>,</span>
<span>  symmetric <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  sum_dyads <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  diag_to_NA <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  missing_to_zero <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Plot bipartite network</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span></span>
<span>  <span class="va">bipartite_network</span>,</span>
<span>  title <span class="op">=</span> <span class="st">"Bipartite Network: Buddhist vs Christian Actors in Myanmar"</span>,</span>
<span>  add_text <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  layout <span class="op">=</span> <span class="st">"bipartite"</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="PSSI_workshop_final_files/figure-html/bipartite_network-1.png" width="1093.75"></p>
</div>
</div>
<div class="section level3">
<h3 id="conclusion">Conclusion<a class="anchor" aria-label="anchor" href="#conclusion"></a>
</h3>
<p>In this vignette, we explored how to install and use
<strong>netify</strong> to create different types of conflict networks
(unweighted, weighted, longitudinal, bipartite), how to summarize and
visualize them, and how to incorporate additional node attributes for
deeper analysis.</p>
<p>For more details on <strong>netify</strong>, consult the package
documentation and function help files.</p>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Cassy Dorff, Shahryar Minhas.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
