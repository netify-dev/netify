<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Ego Networks • netify</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Ego Networks">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">netify</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/foundations.html">Foundations</a></li>
    <li><a class="dropdown-item" href="../articles/event_data.html">Event Data</a></li>
    <li><a class="dropdown-item" href="../articles/ego_networks.html">Ego Networks</a></li>
    <li><a class="dropdown-item" href="../articles/manual_plotting.html">Manual Plotting with ggplot2</a></li>
    <li><a class="dropdown-item" href="../articles/resources.html">Helpful Resources</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/netify-dev/netify/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Ego Networks</h1>
                        <h4 data-toc-skip class="author">Cassy Dorff and
Shahryar Minhas</h4>
            
            <h4 data-toc-skip class="date">2025-06-16</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/netify-dev/netify/blob/main/vignettes/ego_networks.Rmd" class="external-link"><code>vignettes/ego_networks.Rmd</code></a></small>
      <div class="d-none name"><code>ego_networks.Rmd</code></div>
    </div>

    
    
<p>This vignette provides an overview of how to create ego networks
using <code>netify</code>. Generally, ego networks are a kind of network
that focuses on the network that surrounds a single individual actor
within a larger network. These networks include information about the
ego (central node or individual under study), the alters (nodes
connected to the ego), and ties (relationships or connections between
ego and alters and among alters).</p>
<p>Let’s load the necessary libraries.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://netify-dev.github.io/netify/">netify</a></span><span class="op">)</span></span></code></pre></div>
<p>First, we can create a <code>netlet</code> object from some dyadic
data (ICEWS data) using the <code>netify</code> package.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># load icews data</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">icews</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># choose attributes</span></span>
<span><span class="va">nvars</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span> <span class="st">'i_polity2'</span>, <span class="st">'i_log_gdp'</span>, <span class="st">'i_log_pop'</span> <span class="op">)</span></span>
<span><span class="va">dvars</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span> <span class="st">'matlCoop'</span>, <span class="st">'verbConf'</span>, <span class="st">'matlConf'</span> <span class="op">)</span></span>
<span></span>
<span><span class="co"># create a netify object</span></span>
<span><span class="va">netlet</span> <span class="op">=</span> <span class="fu"><a href="../reference/netify.html">netify</a></span><span class="op">(</span></span>
<span>    <span class="va">icews</span>, </span>
<span>    actor1<span class="op">=</span><span class="st">'i'</span>, actor2<span class="op">=</span><span class="st">'j'</span>,</span>
<span>    time <span class="op">=</span> <span class="st">'year'</span>,</span>
<span>    symmetric<span class="op">=</span><span class="cn">FALSE</span>, weight<span class="op">=</span><span class="st">'verbCoop'</span>,</span>
<span>    mode<span class="op">=</span><span class="st">'unipartite'</span>, sum_dyads<span class="op">=</span><span class="cn">FALSE</span>,</span>
<span>    actor_time_uniform<span class="op">=</span><span class="cn">TRUE</span>, actor_pds<span class="op">=</span><span class="cn">NULL</span>,</span>
<span>    diag_to_NA<span class="op">=</span><span class="cn">TRUE</span>, missing_to_zero<span class="op">=</span><span class="cn">TRUE</span>,</span>
<span>    nodal_vars <span class="op">=</span> <span class="va">nvars</span>, </span>
<span>    dyad_vars <span class="op">=</span> <span class="va">dvars</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># print</span></span>
<span><span class="va">netlet</span></span>
<span><span class="co">#&gt; <span style="color: #00BB00;">✔</span> Hello, you have created network data, yay!</span></span>
<span><span class="co">#&gt; • Unipartite</span></span>
<span><span class="co">#&gt; • Asymmetric</span></span>
<span><span class="co">#&gt; • Weights from `verbCoop`</span></span>
<span><span class="co">#&gt; • Longitudinal: 13 Periods</span></span>
<span><span class="co">#&gt; • # Unique Actors: 152</span></span>
<span><span class="co">#&gt; Network Summary Statistics (averaged across time):</span></span>
<span><span class="co">#&gt;           dens miss   mean recip trans</span></span>
<span><span class="co">#&gt; verbCoop 0.415    0 19.114 0.976 0.627</span></span>
<span><span class="co">#&gt; • Nodal Features: i_polity2, i_log_gdp, i_log_pop</span></span>
<span><span class="co">#&gt; • Dyad Features: matlCoop, verbConf, matlConf</span></span></code></pre></div>
<p>This is a longitudinal, weighted network with nodal and dyadic
attributes. In a few more steps we will show how to highlight these
attributes in a plot.</p>
<p>Let’s say we want to extract the ego network specifically for
Pakistan. We can do this using the <code>ego_netify</code> function.
This function has the following arguments:</p>
<ul>
<li>
<code>netlet</code>: A ‘netify’ object, which contains the network
data structured for analysis and visualization.</li>
<li>
<code>ego</code>: A character vector specifying the name(s) of the
ego(s) for whom to create the ego networks.</li>
<li>
<code>threshold</code>: A numeric value or vector specifying the
threshold for including alters in the ego network. The threshold is used
to define the neighborhood of the ego in weighted networks. If a vector
is provided, its length should correspond to the number of time points,
allowing for a different threshold to be applied for each time period.
For unweighted networks, the default is 0. For weighted networks, the
default is the average edge weight. This default ensures that we include
alters that have an edge weight greater than the average.</li>
<li>
<code>ngbd_direction</code>: For directed networks, users can
specify the type of relationship that the ego should have with alters to
be considered neighbors. Options are ‘out’ (alters the ego has an
outgoing tie with), ‘in’ (alters with an incoming tie to the ego), or
‘any’ (any tie). The default is ‘any’.</li>
<li>
<code>include_ego</code>: Logical; if TRUE, the ego node will be
included in the ego network. Default is TRUE.</li>
</ul>
<p>Using these arguments, let’s extract the ego network for Pakistan,
keeping the default threshold.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># extract ego network for Pakistan</span></span>
<span><span class="va">pakistan_ego_net</span> <span class="op">=</span> <span class="fu"><a href="../reference/ego_netify.html">ego_netify</a></span><span class="op">(</span><span class="va">netlet</span>, ego <span class="op">=</span> <span class="st">'Pakistan'</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># print</span></span>
<span><span class="va">pakistan_ego_net</span></span>
<span><span class="co">#&gt; <span style="color: #00BB00;">✔</span> Hello, you have created a neighborhood network for ego(s) (Pakistan), yay!</span></span>
<span><span class="co">#&gt; • <span style="color: #BB00BB;">Type: Ego Network</span></span></span>
<span><span class="co">#&gt; • Ego: Pakistan</span></span>
<span><span class="co">#&gt; • Direction: Any ties (in or out)</span></span>
<span><span class="co">#&gt; • Ego included: Yes</span></span>
<span><span class="co">#&gt; • Threshold: varies by time (19.59, 19.36, ... , 17.21, 18.39)</span></span>
<span><span class="co">#&gt; • Unipartite</span></span>
<span><span class="co">#&gt; • Asymmetric</span></span>
<span><span class="co">#&gt; • Weights from `verbCoop`</span></span>
<span><span class="co">#&gt; • Longitudinal: 13 Periods</span></span>
<span><span class="co">#&gt; • # Unique Egos: 1 | # Unique Alters: 81</span></span>
<span><span class="co">#&gt; Neighborhood Network Summary Statistics (averaged across time):</span></span>
<span><span class="co">#&gt;           dens miss    mean recip trans</span></span>
<span><span class="co">#&gt; verbCoop 0.842    0 165.009 0.978 0.912</span></span>
<span><span class="co">#&gt; • Nodal Features: i_polity2, i_log_gdp, i_log_pop</span></span>
<span><span class="co">#&gt; • Dyad Features: matlCoop, verbConf, matlConf</span></span></code></pre></div>
<p>The print output tells us that across the entire time series, we can
see that Pakistan has 81 unique alters. If we wanted to look at a
specific year we can just subset the object by that year (note that
<code>subset_netify</code> does not work with ego networks at this
time):</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># subset to a specific year</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/subset.html" class="external-link">subset</a></span><span class="op">(</span><span class="va">pakistan_ego_net</span>, time <span class="op">=</span> <span class="st">'2010'</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #00BB00;">✔</span> Hello, you have created a neighborhood network for ego(s) (Pakistan), yay!</span></span>
<span><span class="co">#&gt; • <span style="color: #BB00BB;">Type: Ego Network</span></span></span>
<span><span class="co">#&gt; • Ego: Pakistan</span></span>
<span><span class="co">#&gt; • Direction: Any ties (in or out)</span></span>
<span><span class="co">#&gt; • Ego included: Yes</span></span>
<span><span class="co">#&gt; • Threshold: 19.59</span></span>
<span><span class="co">#&gt; • Unipartite</span></span>
<span><span class="co">#&gt; • Asymmetric</span></span>
<span><span class="co">#&gt; • Weights from `verbCoop`</span></span>
<span><span class="co">#&gt; • Cross-Sectional</span></span>
<span><span class="co">#&gt; • # Unique Egos: 1 | # Unique Alters: 40</span></span>
<span><span class="co">#&gt; Neighborhood Network Summary Statistics:</span></span>
<span><span class="co">#&gt;           dens miss    mean recip trans</span></span>
<span><span class="co">#&gt; verbCoop 0.881    0 131.743 0.982 0.934</span></span>
<span><span class="co">#&gt; • Nodal Features: time, i_polity2, i_log_gdp, i_log_pop</span></span>
<span><span class="co">#&gt; • Dyad Features: matlCoop, verbConf, matlConf</span></span></code></pre></div>
<p>Netify will also calculate summary statistics for ego networks. For
example, we can obtain summary statistics for all of Pakistan’s ego
networks across the time series using the netify built-in
<code>summary</code> function:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">pakistan_ego_net</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt;    net num_actors   density num_edges prop_edges_missing mean_edge_weight</span></span>
<span><span class="co">#&gt; 1 2002         35 0.7551020       925                  0        166.93445</span></span>
<span><span class="co">#&gt; 2 2003         30 0.8788889       791                  0        258.17356</span></span>
<span><span class="co">#&gt; 3 2004         51 0.7274125      1892                  0         95.28745</span></span>
<span><span class="co">#&gt; 4 2005         49 0.8167430      1961                  0        113.05315</span></span>
<span><span class="co">#&gt; 5 2006         41 0.8221297      1382                  0        139.35366</span></span>
<span><span class="co">#&gt; 6 2007         42 0.8707483      1536                  0        174.43148</span></span>
<span><span class="co">#&gt;   sd_edge_weight median_edge_weight min_edge_weight max_edge_weight</span></span>
<span><span class="co">#&gt; 1       514.1573                 14               0            6003</span></span>
<span><span class="co">#&gt; 2       660.1221                 39               0            5937</span></span>
<span><span class="co">#&gt; 3       351.0150                  9               0            5141</span></span>
<span><span class="co">#&gt; 4       410.7403                 14               0            6561</span></span>
<span><span class="co">#&gt; 5       490.6335                 18               0            7579</span></span>
<span><span class="co">#&gt; 6       550.6169                 25               0            7125</span></span>
<span><span class="co">#&gt;   competition_row competition_col sd_of_row_means sd_of_col_means</span></span>
<span><span class="co">#&gt; 1      0.08100030      0.07897426        229.4351        224.9583</span></span>
<span><span class="co">#&gt; 2      0.08397074      0.07807595        323.6456        304.2249</span></span>
<span><span class="co">#&gt; 3      0.06014889      0.05662972        138.3784        132.2361</span></span>
<span><span class="co">#&gt; 4      0.06493042      0.05954332        168.7123        158.1764</span></span>
<span><span class="co">#&gt; 5      0.07655516      0.06874899        206.3296        190.2663</span></span>
<span><span class="co">#&gt; 6      0.06715083      0.06141609        238.1953        221.8779</span></span>
<span><span class="co">#&gt;   covar_of_row_col_means reciprocity transitivity</span></span>
<span><span class="co">#&gt; 1              0.9926160   0.9790484    0.8489611</span></span>
<span><span class="co">#&gt; 2              0.9782197   0.9564141    0.9378381</span></span>
<span><span class="co">#&gt; 3              0.9885674   0.9734966    0.8351142</span></span>
<span><span class="co">#&gt; 4              0.9931345   0.9839155    0.8959472</span></span>
<span><span class="co">#&gt; 5              0.9871813   0.9790556    0.9023721</span></span>
<span><span class="co">#&gt; 6              0.9907272   0.9765549    0.9267179</span></span></code></pre></div>
<p>We can also inspect the ego network via plot.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">pakistan_ego_net</span> <span class="op">=</span> <span class="fu"><a href="../reference/add_node_vars.html">add_node_vars</a></span><span class="op">(</span></span>
<span>  <span class="va">pakistan_ego_net</span>, </span>
<span>  <span class="fu"><a href="../reference/summary_actor.html">summary_actor</a></span><span class="op">(</span><span class="va">pakistan_ego_net</span><span class="op">)</span>, </span>
<span>  <span class="st">'actor'</span>, <span class="st">'time'</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">pakistan_ego_net</span>,</span>
<span>     edge_color <span class="op">=</span> <span class="st">'grey50'</span>,</span>
<span>     weight_transform<span class="op">=</span><span class="va">log1p</span>,</span>
<span>     node_size_by <span class="op">=</span> <span class="st">'log(strength_avg_total)'</span>,</span>
<span>     node_size_label <span class="op">=</span> <span class="st">'Log(Strength)'</span>,</span>
<span>     edge_alpha_label <span class="op">=</span> <span class="st">'Log(Verb. Coop.)'</span>,</span>
<span>     highlight<span class="op">=</span><span class="st">'Pakistan'</span>,</span>
<span>     highlight_legend_title<span class="op">=</span><span class="st">''</span>,</span>
<span>     edge_linewidth <span class="op">=</span> <span class="fl">.2</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="ego_networks_files/figure-html/unnamed-chunk-6-1.png" width="700"></p>
<div class="section level2">
<h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h2>
<ul>
<li>Sundberg, Ralph and Erik Melander (2013) Introducing the UCDP
Georeferenced Event Dataset. Journal of Peace Research 50(4).</li>
</ul>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Cassy Dorff, Shahryar Minhas.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
