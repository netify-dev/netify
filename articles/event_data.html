<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Conflict Application: Event Data • netify</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Conflict Application: Event Data">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">netify</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/foundations.html">Foundations</a></li>
    <li><a class="dropdown-item" href="../articles/event_data.html">Conflict Application: Event Data</a></li>
    <li><a class="dropdown-item" href="../articles/ego_networks.html">Ego Networks</a></li>
    <li><a class="dropdown-item" href="../articles/manual_plotting.html">Manual Plotting with ggplot2</a></li>
    <li><a class="dropdown-item" href="../articles/resources.html">Helpful Resources</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/netify-dev/netify/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Conflict Application: Event Data</h1>
                        <h4 data-toc-skip class="author">Cassy Dorff and
Shahryar Minhas</h4>
            
            <h4 data-toc-skip class="date">2025-06-13</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/netify-dev/netify/blob/main/vignettes/event_data.Rmd" class="external-link"><code>vignettes/event_data.Rmd</code></a></small>
      <div class="d-none name"><code>event_data.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="vignette-summary">Vignette Summary<a class="anchor" aria-label="anchor" href="#vignette-summary"></a>
</h2>
<p>Below is a demonstration of how to use the <strong>netify</strong> R
package to build and analyze various conflict networks. We will walk
through data preparation, network construction, summary statistics,
visualizations, and special use cases like weighted networks,
longitudinal networks, and bipartite networks.</p>
<p>A common data type used to create conflict networks is in the
structure of event data, where actors are repeated across rows but there
is no specific variable that denotes the ‘edge’ as shown in our previous
example.</p>
<p>We show how to use <code>netify</code> and UCDP data as just one
example of potential applications to intrastate event data. The first
step is to go to <a href="https://ucdp.uu.se/downloads/" class="external-link uri">https://ucdp.uu.se/downloads/</a> and download the data you
want to use. For this tutorial we have downloaded UCDP GED event data
version 23.1 and subset the data for the case of Mexico. We also have
saved this example internal to the package to that users can easily run
the code below.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://netify-dev.github.io/netify/">netify</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span></code></pre></div>
<ol style="list-style-type: decimal">
<li>Create: generate an aggregated, weighted network of conflict between
actors in Mexico. The default here, when the user does not supply a
‘weight’ value, is for the function to simply count up interactions and
return this as the weight. When this is the case, the user will get the
warning shown in the example below.</li>
</ol>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Load UCDP GED data on Mexico</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">mexico</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Construct unweighted network (number_of_events by default)</span></span>
<span><span class="va">mex_network</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/netify.html">netify</a></span><span class="op">(</span></span>
<span>  <span class="va">mexico</span>,</span>
<span>  actor1 <span class="op">=</span> <span class="st">'side_a'</span>,</span>
<span>  actor2 <span class="op">=</span> <span class="st">'side_b'</span>,</span>
<span>  symmetric <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  sum_dyads <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  diag_to_NA <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  missing_to_zero <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="color: #BBBB00;">!</span> Warning: there are repeating dyads within time periods in the dataset. When `sum_dyads = TRUE` and `weight` is not supplied, edges in the outputted adjacency matrix represent a count of interactions between actors.</span></span></code></pre>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Summaries at the graph and actor levels</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">mex_network</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##   num_actors    density num_edges prop_edges_missing mean_edge_weight</span></span>
<span><span class="co">## 1         74 0.02520088       138                  0         7.018512</span></span>
<span><span class="co">##   sd_edge_weight median_edge_weight min_edge_weight max_edge_weight competition</span></span>
<span><span class="co">## 1        113.395                  0               0            3757   0.1371326</span></span>
<span><span class="co">##   sd_of_actor_means transitivity</span></span>
<span><span class="co">## 1          21.37264    0.1046512</span></span></code></pre>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">actor_stats</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/summary_actor.html">summary_actor</a></span><span class="op">(</span><span class="va">mex_network</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/plot_actor_stats.html">plot_actor_stats</a></span><span class="op">(</span><span class="va">actor_stats</span><span class="op">)</span></span></code></pre></div>
<p><img src="event_data_files/figure-html/unnamed-chunk-2-1.png" width="1093.75"></p>
<ol start="2" style="list-style-type: decimal">
<li>Explore: next we can quickly use the basic plot function in the
<code>netify</code> package to plot network of violent interactions in
Mexico.</li>
</ol>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># select 10 random names for plotting</span></span>
<span><span class="va">select_names</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">rownames</a></span><span class="op">(</span><span class="va">mex_network</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">12345</span><span class="op">)</span></span>
<span><span class="va">random_indices</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">select_names</span><span class="op">)</span>, <span class="fl">10</span><span class="op">)</span></span>
<span><span class="va">random_names</span> <span class="op">&lt;-</span> <span class="va">select_names</span><span class="op">[</span><span class="va">random_indices</span><span class="op">]</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">mex_network</span>,</span>
<span>     add_text <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Warning: Removed 69 rows containing missing values or values outside the scale range</span></span>
<span><span class="co">## (`geom_segment()`).</span></span></code></pre>
<p><img src="event_data_files/figure-html/unnamed-chunk-3-1.png" width="900"></p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">mex_network</span>,</span>
<span>     select_text <span class="op">=</span> <span class="va">random_names</span>,</span>
<span>     select_text_display <span class="op">=</span> <span class="va">random_names</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Warning: Removed 69 rows containing missing values or values outside the scale range</span></span>
<span><span class="co">## (`geom_segment()`).</span></span></code></pre>
<pre><code><span><span class="co">## Warning: Removed 64 rows containing missing values or values outside the scale range</span></span>
<span><span class="co">## (`geom_text()`).</span></span></code></pre>
<p><img src="event_data_files/figure-html/unnamed-chunk-3-2.png" width="900"></p>
<p>The graphs above reveals the need to transform the data to increase
interpretability. To do so, we can log the the values of the edges. The
<code>netify</code> plot function has a built-in parameter for this
where the user can pass the function they want to use to transform the
weights of the data (see the general <code>transform_weights</code>
function in the package to transform weights outside of plotting.)</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">mex_network</span>,</span>
<span>     select_text <span class="op">=</span> <span class="va">random_names</span>,</span>
<span>     select_text_display <span class="op">=</span> <span class="va">random_names</span>, </span>
<span>     <span class="co"># log(x+1) to better see range of connects</span></span>
<span>     weight_transform <span class="op">=</span> <span class="va">log1p</span></span>
<span>     <span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Warning: Removed 69 rows containing missing values or values outside the scale range</span></span>
<span><span class="co">## (`geom_segment()`).</span></span></code></pre>
<pre><code><span><span class="co">## Warning: Removed 64 rows containing missing values or values outside the scale range</span></span>
<span><span class="co">## (`geom_text()`).</span></span></code></pre>
<p><img src="event_data_files/figure-html/unnamed-chunk-4-1.png" width="900"></p>
<p>Let’s make the same graph as above but this time make sure we remove
any isolates from the graph as well as refine the edges. In addition,
there are some points that are overlapping and difficult to see. To get
ideas about how to improve the plot, we might like to inspect each
component of the plot. This is an option when the plot parameter,
<code>return_components = TRUE</code>. We can also directly modify these
components, as shown below by adding a label specification.</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># investigate each component of the plot</span></span>
<span><span class="va">comp</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span></span>
<span>  <span class="va">mex_network</span>,</span>
<span>  remove_isolates <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  select_text <span class="op">=</span> <span class="va">random_names</span>,</span>
<span>  select_text_display <span class="op">=</span> <span class="va">random_names</span>,              </span>
<span>  weight_transform <span class="op">=</span> <span class="va">log1p</span>,</span>
<span>  return_components <span class="op">=</span> <span class="cn">TRUE</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">comp</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Netify plot components:</span></span>
<span><span class="co">##   Base plot: ggplot object</span></span>
<span><span class="co">##   Edges: geom_segment/geom_curve layer</span></span>
<span><span class="co">##   Points: geom_point layer</span></span>
<span><span class="co">##   Text: geom_text layer</span></span>
<span><span class="co">##   Theme: theme_netify</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Use assemble_netify_plot() to build or construct manually with netify_edge(), netify_node(), etc.</span></span></code></pre>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># modify component</span></span>
<span><span class="va">comp</span><span class="op">$</span><span class="va">base</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="../reference/netify_edge.html">netify_edge</a></span><span class="op">(</span><span class="va">comp</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>alpha<span class="op">=</span><span class="st">'Log(Event Count)'</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/reset_scales.html">reset_scales</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/netify_node.html">netify_node</a></span><span class="op">(</span><span class="va">comp</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/netify_text.html">netify_text</a></span><span class="op">(</span><span class="va">comp</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="va">comp</span><span class="op">$</span><span class="va">theme</span></span></code></pre></div>
<pre><code><span><span class="co">## Warning: Removed 69 rows containing missing values or values outside the scale range</span></span>
<span><span class="co">## (`geom_segment()`).</span></span></code></pre>
<pre><code><span><span class="co">## Warning: Removed 64 rows containing missing values or values outside the scale range</span></span>
<span><span class="co">## (`geom_text()`).</span></span></code></pre>
<p><img src="event_data_files/figure-html/unnamed-chunk-5-1.png" width="900"></p>
<p>There is, however, a more straightforward way to do this which is via
the <code>edge_alpha_label</code> parameter inside the netify plot
function:</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># and even simpler</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">mex_network</span>, </span>
<span>     select_text <span class="op">=</span> <span class="va">random_names</span>,</span>
<span>     select_text_display <span class="op">=</span> <span class="va">random_names</span>,</span>
<span>     weight_transform <span class="op">=</span> <span class="va">log1p</span>,</span>
<span>     edge_alpha_label <span class="op">=</span> <span class="st">"Log(Event Count)"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Warning: Removed 69 rows containing missing values or values outside the scale range</span></span>
<span><span class="co">## (`geom_segment()`).</span></span></code></pre>
<pre><code><span><span class="co">## Warning: Removed 64 rows containing missing values or values outside the scale range</span></span>
<span><span class="co">## (`geom_text()`).</span></span></code></pre>
<p><img src="event_data_files/figure-html/unnamed-chunk-6-1.png" width="900"></p>
<p>For conflict data, we often like to see which actors are involved in
the most conflict. To do this, however, we’d need to calculate degree
centrality. To do this we can use the <code><a href="../reference/add_node_vars.html">add_node_vars()</a></code>
function (there is also a <code><a href="../reference/add_dyad_vars.html">add_dyad_vars()</a></code> function) which
takes a netlet object (the network of study), nodal data, and a string
to specify the column name in the nodal data that matches with each
actor in the network. Below, we use <code><a href="../reference/summary_actor.html">summary_actor()</a></code> to
create the nodal data frame.</p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># add degree centrality </span></span>
<span><span class="va">mex_network</span> <span class="op">=</span> <span class="fu"><a href="../reference/add_node_vars.html">add_node_vars</a></span><span class="op">(</span></span>
<span>  <span class="va">mex_network</span>, </span>
<span>  <span class="fu"><a href="../reference/summary_actor.html">summary_actor</a></span><span class="op">(</span><span class="va">mex_network</span><span class="op">)</span>, </span>
<span>  actor<span class="op">=</span><span class="st">'actor'</span> <span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">mex_network</span>, </span>
<span>     weight_transform <span class="op">=</span> <span class="va">log1p</span>,</span>
<span>     edge_alpha_label <span class="op">=</span> <span class="st">"Log(Event Count)"</span>,</span>
<span>     point_size_var<span class="op">=</span><span class="st">'degree'</span>,</span>
<span>     point_size_label<span class="op">=</span><span class="st">'Degree'</span>,</span>
<span>     point_alpha<span class="op">=</span><span class="fl">.5</span>,</span>
<span>    check_overlap<span class="op">=</span><span class="cn">TRUE</span></span>
<span>    <span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Warning: Removed 69 rows containing missing values or values outside the scale range</span></span>
<span><span class="co">## (`geom_segment()`).</span></span></code></pre>
<p><img src="event_data_files/figure-html/unnamed-chunk-7-1.png" width="900"></p>
</div>
<div class="section level2">
<h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h2>
<ul>
<li>Sundberg, Ralph and Erik Melander (2013) Introducing the UCDP
Georeferenced Event Dataset. Journal of Peace Research 50(4).</li>
</ul>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Cassy Dorff, Shahryar Minhas.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
