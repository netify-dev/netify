<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="netify">
<title>Netify Workshop ‚Ä¢ netify</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.11/clipboard.min.js" integrity="sha512-7O5pXpc0oCRrxk8RUfDYFgn0nO1t+jLuIOQdOMRp4APB7uZ4vSjspzp5y6YDtDs4VzUSTbWzBFZ/LKJhnyFOKw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Netify Workshop">
<meta property="og:description" content="netify">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light" data-bs-theme="light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">netify</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/ego_networks.html">Netify: Ego Networks</a>
    <a class="dropdown-item" href="../articles/manual_plotting.html">Netify: Manual Plotting with ggplot2</a>
    <a class="dropdown-item" href="../articles/workshop_demo.html">Netify Workshop</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav"></ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Netify Workshop</h1>
                        <h4 data-toc-skip class="author">Cassy Dorff and
Shahryar Minhas</h4>
            
            <h4 data-toc-skip class="date">2024-06-12</h4>
      
      
      <div class="d-none name"><code>workshop_demo.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="package-overview">Package Overview<a class="anchor" aria-label="anchor" href="#package-overview"></a>
</h2>
<p>This vignette provides a high level overview of our package from
start to finish. The best use of this vignette is to introduce the main
components of the package to larger audiences. This overview covers our
primary functions with data examples and minimal writing.</p>
<p><code>netify</code> goals:</p>
<ol style="list-style-type: decimal">
<li>Create: Netify your data! We Make it easy for users to create
networks from raw data in <span class="math inline">\(R\)</span> as well
as add additional features, such as nodal and dyadic variables, to the
network object.</li>
<li>Explore: Explore characteristics of the network you created, like
summary statistics at both the network and actor levels. Visualize your
network.</li>
<li>Advance: Advance your network analysis to the next stage by
preparing it for use in other network packages and modeling
approaches.</li>
</ol>
<p><code>netify</code> provides a suite of primary functions to help
achieve these goals:</p>
<table class="table">
<thead><tr class="header">
<th>Createüí°</th>
<th>Explore üîé</th>
<th>Advance Ô∏èüöÄ</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code><a href="../reference/netify.html">netify()</a></code></td>
<td><code><a href="../reference/peek.html">peek()</a></code></td>
<td><code><a href="../reference/prep_for_amen.html">prep_for_amen()</a></code></td>
</tr>
<tr class="even">
<td><code><a href="../reference/add_nodal.html">add_nodal()</a></code></td>
<td><code><a href="../reference/summary_actor.html">summary_actor()</a></code></td>
<td><code><a href="../reference/prep_for_igraph.html">prep_for_igraph()</a></code></td>
</tr>
<tr class="odd">
<td><code><a href="../reference/add_dyad.html">add_dyad()</a></code></td>
<td><code><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary()</a></code></td>
<td><code><a href="../reference/prep_for_statnet.html">prep_for_statnet()</a></code></td>
</tr>
<tr class="even">
<td><code><a href="../reference/subset_netlet.html">subset_netlet()</a></code></td>
<td><code><a href="../reference/plot_actor_stats.html">plot_actor_stats()</a></code></td>
<td></td>
</tr>
<tr class="odd">
<td></td>
<td><code><a href="../reference/plot_graph_stats.html">plot_graph_stats()</a></code></td>
<td></td>
</tr>
<tr class="even">
<td></td>
<td><code><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot()</a></code></td>
<td></td>
</tr>
</tbody>
</table>
<p><code>netify</code> can take dyadic data or edgelists to get
started.</p>
<ul>
<li>
<p>The package can also create different types of networks
including:</p>
<ul>
<li>cross sectional networks</li>
<li>longitudinal (with static and varying actor composition)</li>
<li>bipartite networks</li>
<li>multilayer</li>
</ul>
</li>
<li>
<p>As well as create networks with different edge types:</p>
<ul>
<li>weighted</li>
<li>binary</li>
<li>symmetric or non-symmetric</li>
</ul>
</li>
</ul>
</div>
<div class="section level2">
<h2 id="step-1-create">Step 1: Create üí°<a class="anchor" aria-label="anchor" href="#step-1-create"></a>
</h2>
<p>Begin by loading packages and supplying the data. We will use the
<code>peacesciencer</code> package to grab some familiar data.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># load packages</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://netify-dev.github.io/netify/">netify</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># install extra packages for this vignette</span></span>
<span><span class="kw">if</span><span class="op">(</span><span class="op">!</span><span class="st">'tidyverse'</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">rownames</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/installed.packages.html" class="external-link">installed.packages</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">'tidyverse'</span>, repos<span class="op">=</span><span class="st">'https://cloud.r-project.org'</span><span class="op">)</span> <span class="op">}</span></span>
<span><span class="kw">if</span><span class="op">(</span><span class="op">!</span><span class="st">'peacesciencer'</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">rownames</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/installed.packages.html" class="external-link">installed.packages</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">'peacesciencer'</span>, repos<span class="op">=</span><span class="st">'https://cloud.r-project.org'</span><span class="op">)</span> <span class="op">}</span></span>
<span><span class="co"># load necessary packages for this vignette</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/svmiller/peacesciencer/" class="external-link">peacesciencer</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org" class="external-link">tidyverse</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># organize external data for peacesciencer</span></span>
<span><span class="fu">peacesciencer</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/peacesciencer/man/download_extdata.html" class="external-link">download_extdata</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># create dyadic data set over time using peacesciencer</span></span>
<span><span class="va">cow_dyads</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/peacesciencer/man/create_dyadyears.html" class="external-link">create_dyadyears</a></span><span class="op">(</span> </span>
<span>     subset_years <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1995</span><span class="op">:</span><span class="fl">2014</span><span class="op">)</span></span>
<span>     <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>    <span class="co"># add mids</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/pkg/peacesciencer/man/add_cow_mids.html" class="external-link">add_cow_mids</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>    <span class="co"># add capital distance</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/pkg/peacesciencer/man/add_capital_distance.html" class="external-link">add_capital_distance</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>    <span class="co"># add democracy</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/pkg/peacesciencer/man/add_democracy.html" class="external-link">add_democracy</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>    <span class="co"># add gdp</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/pkg/peacesciencer/man/add_sdp_gdp.html" class="external-link">add_sdp_gdp</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p>Next, create a <code>netlet</code> object from the above COW data
frame using our package‚Äôs core function <code>netify.</code> There are a
number of useful parameters, but the most important ones to highlight
are:</p>
<ul>
<li>
<p><code>dyad_data</code> is a dyadic data.frame that should have at
least the following variables used to specify actors:</p>
<ul>
<li>
<code>actor1</code>: character indicating actor 1 variable in the
data</li>
<li>
<code>actor2</code>: character indicating actor 2 variable in the
data</li>
</ul>
</li>
<li><p><code>netify_type</code> is a type of netlet object
(<code>cross-sec</code>, <code>longit_list</code>, or
<code>longit_array</code>).</p></li>
</ul>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mid_long_network</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/netify.html">netify</a></span><span class="op">(</span></span>
<span>  <span class="va">cow_dyads</span>,</span>
<span>  actor1<span class="op">=</span><span class="st">'ccode1'</span>, actor2<span class="op">=</span><span class="st">'ccode2'</span>, time<span class="op">=</span><span class="st">'year'</span>,</span>
<span>  weight<span class="op">=</span><span class="st">'cowmidonset'</span>, </span>
<span>  actor_time_uniform<span class="op">=</span><span class="cn">FALSE</span>,</span>
<span>  sum_dyads<span class="op">=</span><span class="cn">FALSE</span>, symmetric<span class="op">=</span><span class="cn">TRUE</span>,</span>
<span>  diag_to_NA<span class="op">=</span><span class="cn">TRUE</span>, missing_to_zero<span class="op">=</span><span class="cn">TRUE</span>,</span>
<span>  nodal_vars <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'v2x_polyarchy1'</span>, <span class="st">'v2x_polyarchy2'</span><span class="op">)</span>,</span>
<span>  dyad_vars <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'capdist'</span><span class="op">)</span>,</span>
<span>  dyad_vars_symmetric <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="cn">TRUE</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="color: #BBBB00;">!</span> Warning: Converting `actor1` and/or `actor2` to character vector(s).</span></span></code></pre>
<p><strong>Congratulations</strong> you have created a network object!
üéâ</p>
<p>We can also add nodal and dyadic data after we‚Äôve created the network
via the <code><a href="../reference/add_nodal.html">add_nodal()</a></code> and <code><a href="../reference/add_dyad.html">add_dyad()</a></code>
functions.</p>
<p>Let‚Äôs assume that we had information about each actor in the network
that we‚Äôd like to add as a nodal variable after we already made the
network object. This could be from our original data set or elsewhere.
For example, lets add a logged variable measuring gdp for each node in
the network over time:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># create a vector of nodal data</span></span>
<span><span class="va">node_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">cow_dyads</span><span class="op">[</span>,<span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"ccode1"</span>, <span class="st">"year"</span>, <span class="st">"wbgdppc2011est2"</span><span class="op">)</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="va">node_data</span><span class="op">$</span><span class="va">wbgdppc2011est2_log</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="va">node_data</span><span class="op">$</span><span class="va">wbgdppc2011est2</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># add nodal variable to netlet object</span></span>
<span><span class="va">mid_long_network</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_nodal.html">add_nodal</a></span><span class="op">(</span></span>
<span>    netlet <span class="op">=</span> <span class="va">mid_long_network</span>,</span>
<span>    node_data <span class="op">=</span> <span class="va">node_data</span>,</span>
<span>    actor <span class="op">=</span> <span class="st">"ccode1"</span>,</span>
<span>    time <span class="op">=</span> <span class="st">"year"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># create another dyadic var in cow</span></span>
<span><span class="va">cow_dyads</span><span class="op">$</span><span class="va">log_capdist</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="va">cow_dyads</span><span class="op">$</span><span class="va">capdist</span> <span class="op">+</span> <span class="fl">1</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># now lets add this to the netlet</span></span>
<span><span class="va">mid_long_network</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_dyad.html">add_dyad</a></span><span class="op">(</span></span>
<span>  netlet <span class="op">=</span> <span class="va">mid_long_network</span>, </span>
<span>  dyad_data<span class="op">=</span> <span class="va">cow_dyads</span>,</span>
<span>  actor1<span class="op">=</span> <span class="st">'ccode1'</span>,</span>
<span>  actor2<span class="op">=</span><span class="st">'ccode2'</span>,</span>
<span>  time<span class="op">=</span><span class="st">'year'</span>,</span>
<span>  dyad_vars <span class="op">=</span> <span class="st">'log_capdist'</span>,</span>
<span>  dyad_vars_symmetric <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="step-2-explore">Step 2: Explore üîé<a class="anchor" aria-label="anchor" href="#step-2-explore"></a>
</h2>
<p>We made a network, so let‚Äôs look at it. First, we might want to take
a <code>peek</code> at the network object to see if the matrix looks the
way we‚Äôd expect it to look. This function lets you glance at a specific
slice of the network if it is longitudinal or the entire network if it
is cross-sectional.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/peek.html">peek</a></span><span class="op">(</span></span>
<span>  <span class="va">mid_long_network</span>, </span>
<span>  when_to_peek <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'2012'</span><span class="op">)</span>, </span>
<span>  what_to_peek <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">13</span>, <span class="fl">15</span><span class="op">:</span><span class="fl">24</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## $`2012`</span></span>
<span><span class="co">##      2 200 205 210 211 212 220 221 223 225 230</span></span>
<span><span class="co">## 2   NA   0   0   0   0   0   0   0   0   0   0</span></span>
<span><span class="co">## 200  0  NA   0   0   0   0   0   0   0   0   1</span></span>
<span><span class="co">## 205  0   0  NA   0   0   0   0   0   0   0   0</span></span>
<span><span class="co">## 210  0   0   0  NA   0   0   0   0   0   0   0</span></span>
<span><span class="co">## 211  0   0   0   0  NA   0   0   0   0   0   0</span></span>
<span><span class="co">## 212  0   0   0   0   0  NA   0   0   0   0   0</span></span>
<span><span class="co">## 220  0   0   0   0   0   0  NA   0   0   0   0</span></span>
<span><span class="co">## 221  0   0   0   0   0   0   0  NA   0   0   0</span></span>
<span><span class="co">## 223  0   0   0   0   0   0   0   0  NA   0   0</span></span>
<span><span class="co">## 225  0   0   0   0   0   0   0   0   0  NA   0</span></span>
<span><span class="co">## 230  0   1   0   0   0   0   0   0   0   0  NA</span></span></code></pre>
<p>Next, let‚Äôs examine a few basic summary statistics about the network
using our<code><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary()</a></code> function.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># create data.frame that provides network-level summary stats </span></span>
<span><span class="co"># for each year of the network</span></span>
<span><span class="va">mid_long_summary</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">mid_long_network</span><span class="op">)</span></span></code></pre></div>
<p>We can also make a quick visualization of network statistics over
time using the summary statistics data frame.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/plot_graph_stats.html">plot_graph_stats</a></span><span class="op">(</span><span class="va">mid_long_summary</span><span class="op">)</span></span></code></pre></div>
<p><img src="workshop_demo_files/figure-html/unnamed-chunk-6-1.png" width="576"></p>
<p>We might also want to look at a summary of actor-level statistics
overtime. Our built-in function, <code>summary_actor</code> will
calculate in-degree, out-degree, average degree, and eigenvector
centrality for each actor in each time period. The
<code>across_actors</code> function allows users to toggle whether they
want a summary of a given statistic across all actors (shown in a
density plot) or for specific actors:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># every year &amp; every actor </span></span>
<span><span class="va">summary_actor_mids</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/summary_actor.html">summary_actor</a></span><span class="op">(</span><span class="va">mid_long_network</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">summary_actor_mids</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##   actor time degree   prop_ties network_share closeness betweenness</span></span>
<span><span class="co">## 1   100 1995      1 0.005376344    0.01470588         1           0</span></span>
<span><span class="co">## 2   101 1995      1 0.005376344    0.01470588         1           0</span></span>
<span><span class="co">## 3   110 1995      0 0.000000000    0.00000000       NaN           0</span></span>
<span><span class="co">## 4   115 1995      0 0.000000000    0.00000000       NaN           0</span></span>
<span><span class="co">## 5   130 1995      1 0.005376344    0.01470588         1           0</span></span>
<span><span class="co">## 6   135 1995      1 0.005376344    0.01470588         1           0</span></span>
<span><span class="co">##   eigen_vector</span></span>
<span><span class="co">## 1 2.013176e-16</span></span>
<span><span class="co">## 2 1.798393e-16</span></span>
<span><span class="co">## 3 0.000000e+00</span></span>
<span><span class="co">## 4 0.000000e+00</span></span>
<span><span class="co">## 5 1.122847e-16</span></span>
<span><span class="co">## 6 1.207292e-16</span></span></code></pre>
<p>We can look at the distribution of the statistic for all actors over
time:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># density plot across all actors</span></span>
<span><span class="co"># for each stat</span></span>
<span><span class="fu"><a href="../reference/plot_actor_stats.html">plot_actor_stats</a></span><span class="op">(</span></span>
<span>  <span class="va">summary_actor_mids</span>,</span>
<span>  across_actor<span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  <span class="op">)</span></span></code></pre></div>
<p><img src="workshop_demo_files/figure-html/unnamed-chunk-8-1.png" width="576"></p>
<p>Or we might like to select a specific statistic to focus on across
actors over time:</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># focus on closeness</span></span>
<span><span class="fu"><a href="../reference/plot_actor_stats.html">plot_actor_stats</a></span><span class="op">(</span></span>
<span>  <span class="va">summary_actor_mids</span>,</span>
<span>  across_actor <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  specific_stats<span class="op">=</span><span class="st">'closeness'</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Picking joint bandwidth of 0.114</span></span></code></pre>
<pre><code><span><span class="co">## Warning: Removed 2913 rows containing non-finite outside the scale range</span></span>
<span><span class="co">## (`stat_density_ridges()`).</span></span></code></pre>
<p><img src="workshop_demo_files/figure-html/unnamed-chunk-9-1.png" width="576"></p>
<p>Say that we wanted to showcase actor-specific statistics over time.
We can use the plot_actor_stats function for this as well, though it‚Äôs
<strong>highly recommended</strong> to subset to a few actors for a more
legible plot.</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># top 5 GDP countries (USA, China, Japan, Germany, India)</span></span>
<span><span class="va">top_5</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"2"</span>, <span class="st">"710"</span>, <span class="st">"740"</span>, <span class="st">"255"</span>, <span class="st">"750"</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#</span></span>
<span><span class="fu"><a href="../reference/plot_actor_stats.html">plot_actor_stats</a></span><span class="op">(</span></span>
<span>  <span class="va">summary_actor_mids</span>, </span>
<span>  across_actor <span class="op">=</span> <span class="cn">FALSE</span>, </span>
<span>  specific_actors <span class="op">=</span> <span class="va">top_5</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Warning: Removed 2913 rows containing missing values or values outside the scale range</span></span>
<span><span class="co">## (`geom_point()`).</span></span></code></pre>
<p><img src="workshop_demo_files/figure-html/unnamed-chunk-10-1.png" width="576"></p>
<p>We can also zoom into a specific time slice of the network:</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">summary_df_static</span> <span class="op">=</span> <span class="va">summary_actor_mids</span><span class="op">[</span><span class="va">summary_actor_mids</span><span class="op">$</span><span class="va">time</span> <span class="op">==</span> <span class="fl">2011</span>,<span class="op">]</span></span>
<span></span>
<span><span class="fu"><a href="../reference/plot_actor_stats.html">plot_actor_stats</a></span><span class="op">(</span></span>
<span>  <span class="va">summary_df_static</span>,</span>
<span>  across_actor<span class="op">=</span><span class="cn">FALSE</span>,</span>
<span>  specific_actors<span class="op">=</span><span class="va">top_5</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="color: #BBBB00;">!</span> Note: The `summary_df` provided only has one unique time point, so longitudional will be set to FALSE.</span></span></code></pre>
<pre><code><span><span class="co">## Warning: Removed 123 rows containing missing values or values outside the scale range</span></span>
<span><span class="co">## (`position_quasirandom()`).</span></span></code></pre>
<p><img src="workshop_demo_files/figure-html/unnamed-chunk-11-1.png" width="576"></p>
<p>Instead of looking at summary statistics, we also might want to
simply visualize the entire network. We can do this by plotting the
netify object. (Isolates removed by default and seed set to 6886 for
node layout).</p>
<p>Our goal was to make this super easy for plotting time-varying
attributes or actors.</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># default plot</span></span>
<span><span class="fu"><a href="../reference/plot.netify.html">plot.netify</a></span><span class="op">(</span><span class="va">mid_long_network</span>,</span>
<span>            static_actor_positions <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>            remove_isolates <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<p><img src="workshop_demo_files/figure-html/unnamed-chunk-12-1.png" width="576"></p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># a little cleaner</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span></span>
<span>    <span class="va">mid_long_network</span>,</span>
<span>    edge_color<span class="op">=</span><span class="st">'grey'</span>,</span>
<span>    node_size<span class="op">=</span><span class="fl">2</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="workshop_demo_files/figure-html/unnamed-chunk-12-2.png" width="576"></p>
<p>We can also use <code>netify</code> functions to explore actor level
summary statistics in the network graph.</p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># add actor variables from summary_actor_mids</span></span>
<span><span class="va">mid_long_network</span> <span class="op">=</span> <span class="fu"><a href="../reference/add_nodal.html">add_nodal</a></span><span class="op">(</span></span>
<span>    <span class="va">mid_long_network</span>, </span>
<span>    <span class="va">summary_actor_mids</span>,</span>
<span>    actor<span class="op">=</span><span class="st">'actor'</span>, time<span class="op">=</span><span class="st">'time'</span>,</span>
<span>    node_vars <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'degree'</span>, <span class="st">'prop_ties'</span>, <span class="st">'eigen_vector'</span><span class="op">)</span>,</span>
<span><span class="op">)</span></span></code></pre></div>
<p>We can quickly inspect the object with the <code>print</code>
function.</p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># print netlet to make sure they got added to nodal features</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">mid_long_network</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="color: #00BB00;">‚úî</span> Hello, you have created network data, yay!</span></span>
<span><span class="co">## ‚Ä¢ Unipartite</span></span>
<span><span class="co">## ‚Ä¢ Symmetric</span></span>
<span><span class="co">## ‚Ä¢ Weights from `cowmidonset`</span></span>
<span><span class="co">## ‚Ä¢ Longitudinal: 20 Periods</span></span>
<span><span class="co">## ‚Ä¢ # Unique Actors: 195</span></span>
<span><span class="co">## Network Summary Statistics (averaged across time):</span></span>
<span><span class="co">##              dens miss trans</span></span>
<span><span class="co">## cowmidonset 0.002    0 0.056</span></span>
<span><span class="co">## ‚Ä¢ Nodal Features: v2x_polyarchy1, v2x_polyarchy2, wbgdppc2011est2,</span></span>
<span><span class="co">## wbgdppc2011est2_log, degree, prop_ties, eigen_vector</span></span>
<span><span class="co">## ‚Ä¢ Dyad Features: capdist, log_capdist</span></span></code></pre>
<p>As well as look at the attributes of the data and specify showing the
nodal data information.</p>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># if you're curious as to where they live</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/attr.html" class="external-link">attr</a></span><span class="op">(</span></span>
<span>    <span class="va">mid_long_network</span>, </span>
<span>    <span class="st">'nodal_data'</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##   actor time v2x_polyarchy1 v2x_polyarchy2 wbgdppc2011est2 wbgdppc2011est2_log</span></span>
<span><span class="co">## 1   100 1995          0.595          0.883          10.740            2.373975</span></span>
<span><span class="co">## 2   100 1996          0.574          0.881          10.768            2.376579</span></span>
<span><span class="co">## 3   100 1997          0.581          0.868          10.798            2.379361</span></span>
<span><span class="co">## 4   100 1998          0.558          0.867          10.833            2.382597</span></span>
<span><span class="co">## 5   100 1999          0.553          0.864          10.860            2.385086</span></span>
<span><span class="co">## 6   100 2000          0.562          0.863          10.888            2.387661</span></span>
<span><span class="co">##   degree   prop_ties eigen_vector</span></span>
<span><span class="co">## 1      1 0.005376344 2.013176e-16</span></span>
<span><span class="co">## 2      0 0.000000000 0.000000e+00</span></span>
<span><span class="co">## 3      1 0.005376344 1.359804e-17</span></span>
<span><span class="co">## 4      0 0.000000000 0.000000e+00</span></span>
<span><span class="co">## 5      0 0.000000000 0.000000e+00</span></span>
<span><span class="co">## 6      1 0.005263158 4.953675e-03</span></span></code></pre>
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#i.e., </span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/attributes.html" class="external-link">attributes</a></span><span class="op">(</span><span class="va">mid_long_network</span><span class="op">)</span><span class="op">$</span><span class="va">nodal_data</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##   actor time v2x_polyarchy1 v2x_polyarchy2 wbgdppc2011est2 wbgdppc2011est2_log</span></span>
<span><span class="co">## 1   100 1995          0.595          0.883          10.740            2.373975</span></span>
<span><span class="co">## 2   100 1996          0.574          0.881          10.768            2.376579</span></span>
<span><span class="co">## 3   100 1997          0.581          0.868          10.798            2.379361</span></span>
<span><span class="co">## 4   100 1998          0.558          0.867          10.833            2.382597</span></span>
<span><span class="co">## 5   100 1999          0.553          0.864          10.860            2.385086</span></span>
<span><span class="co">## 6   100 2000          0.562          0.863          10.888            2.387661</span></span>
<span><span class="co">##   degree   prop_ties eigen_vector</span></span>
<span><span class="co">## 1      1 0.005376344 2.013176e-16</span></span>
<span><span class="co">## 2      0 0.000000000 0.000000e+00</span></span>
<span><span class="co">## 3      1 0.005376344 1.359804e-17</span></span>
<span><span class="co">## 4      0 0.000000000 0.000000e+00</span></span>
<span><span class="co">## 5      0 0.000000000 0.000000e+00</span></span>
<span><span class="co">## 6      1 0.005263158 4.953675e-03</span></span></code></pre>
<p>And now return to our network graph by highlighting specific nodal
attributes:</p>
<div class="sourceCode" id="cb29"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># vary node size by degree</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span></span>
<span>    <span class="va">mid_long_network</span>,</span>
<span>    edge_color<span class="op">=</span><span class="st">'grey'</span>,</span>
<span>    point_size_var<span class="op">=</span><span class="st">'degree'</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="workshop_demo_files/figure-html/unnamed-chunk-16-1.png" width="576"></p>
<div class="sourceCode" id="cb30"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># vary node color by polyarchy</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span></span>
<span>    <span class="va">mid_long_network</span>,</span>
<span>    edge_color<span class="op">=</span><span class="st">'grey'</span>,</span>
<span>    point_size_var<span class="op">=</span><span class="st">'degree'</span>,</span>
<span>    point_color_var<span class="op">=</span><span class="st">'v2x_polyarchy1'</span></span>
<span>    <span class="op">)</span> <span class="op">+</span> </span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_gradient.html" class="external-link">scale_color_gradient2</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span></span>
<span>    size <span class="op">=</span> <span class="st">'Degree'</span>, </span>
<span>    color <span class="op">=</span> <span class="st">'Polyarchy'</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<p><img src="workshop_demo_files/figure-html/unnamed-chunk-16-2.png" width="576"></p>
<p>We might also prefer to add labels, but only a select few:</p>
<div class="sourceCode" id="cb31"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://vincentarelbundock.github.io/countrycode/" class="external-link">countrycode</a></span><span class="op">)</span></span>
<span><span class="va">cowns</span> <span class="op">=</span> <span class="fu"><a href="https://vincentarelbundock.github.io/countrycode/reference/countrycode.html" class="external-link">countrycode</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>      <span class="st">'United States'</span>, <span class="st">'China'</span>, <span class="st">'Russia'</span>, </span>
<span>      <span class="st">'France'</span>, <span class="st">'Germany'</span>, <span class="st">'United Kingdom'</span><span class="op">)</span>, </span>
<span>    <span class="st">'country.name'</span>, <span class="st">'cown'</span></span>
<span>    <span class="op">)</span> </span>
<span><span class="va">cabbs</span> <span class="op">=</span> <span class="fu"><a href="https://vincentarelbundock.github.io/countrycode/reference/countrycode.html" class="external-link">countrycode</a></span><span class="op">(</span><span class="va">cowns</span>, <span class="st">'cown'</span>, <span class="st">'iso3c'</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span></span>
<span>    <span class="va">mid_long_network</span>,</span>
<span>    edge_color<span class="op">=</span><span class="st">'grey'</span>,</span>
<span>    point_size_var<span class="op">=</span><span class="st">'degree'</span>,</span>
<span>    point_color_var<span class="op">=</span><span class="st">'v2x_polyarchy1'</span>,</span>
<span>    select_text <span class="op">=</span> <span class="va">cowns</span>,</span>
<span>    select_text_display <span class="op">=</span> <span class="va">cabbs</span>,</span>
<span>    text_size <span class="op">=</span> <span class="fl">3</span></span>
<span>    <span class="op">)</span> <span class="op">+</span> </span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_gradient.html" class="external-link">scale_color_gradient2</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span></span>
<span>    size <span class="op">=</span> <span class="st">'Degree'</span>, </span>
<span>    color <span class="op">=</span> <span class="st">'Polyarchy'</span></span>
<span>  <span class="op">)</span> </span></code></pre></div>
<pre><code><span><span class="co">## Warning: Removed 839 rows containing missing values or values outside the scale range</span></span>
<span><span class="co">## (`geom_text()`).</span></span></code></pre>
<p><img src="workshop_demo_files/figure-html/unnamed-chunk-17-1.png" width="576"></p>
<div class="sourceCode" id="cb33"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># or we can go with labels only </span></span>
<span><span class="co"># and remove points</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span></span>
<span>    <span class="va">mid_long_network</span>,</span>
<span>    edge_color<span class="op">=</span><span class="st">'grey'</span>,</span>
<span>    add_points <span class="op">=</span> <span class="cn">FALSE</span>, </span>
<span>    add_label <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>    label_size_var<span class="op">=</span><span class="st">'degree'</span>,</span>
<span>    label_color <span class="op">=</span> <span class="st">'white'</span>,</span>
<span>    label_fill_var<span class="op">=</span><span class="st">'v2x_polyarchy1'</span></span>
<span>    <span class="op">)</span> <span class="op">+</span> </span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_gradient.html" class="external-link">scale_color_gradient2</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span></span>
<span>    size <span class="op">=</span> <span class="st">'Degree'</span>, </span>
<span>    color <span class="op">=</span> <span class="st">'Polyarchy'</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Warning in plot(mid_long_network, edge_color = "grey", add_points = FALSE, :</span></span>
<span><span class="co">## Ignoring unknown parameters: `check_overlap`</span></span></code></pre>
<p><img src="workshop_demo_files/figure-html/unnamed-chunk-17-2.png" width="576"></p>
</div>
<div class="section level2">
<h2 id="step-3-advance">Step 3: Advance üöÄ<a class="anchor" aria-label="anchor" href="#step-3-advance"></a>
</h2>
<p>Once we have created and explored our network object, we might want
to continue analyzing the data using different modeling approaches.
<code>netify</code> makes this simple even though those models aren‚Äôt!
And for the sake of convergence lets go with cross-sectional
networks.</p>
<p>First, prep the data:</p>
<div class="sourceCode" id="cb35"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># prep data</span></span>
<span><span class="va">cow_cross</span> <span class="op">=</span> <span class="va">cow_dyads</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">ccode1</span>, <span class="va">ccode2</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">summarize</a></span><span class="op">(</span></span>
<span>    cowmidonset <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/any.html" class="external-link">any</a></span><span class="op">(</span><span class="va">cowmidonset</span><span class="op">&gt;</span><span class="fl">0</span><span class="op">)</span>, <span class="fl">1</span>, <span class="fl">0</span><span class="op">)</span>,</span>
<span>    capdist <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">capdist</span><span class="op">)</span>,</span>
<span>    polity21 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">polity21</span>, na.rm<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span>,</span>
<span>    polity22 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">polity22</span>, na.rm<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span>,</span>
<span>    wbgdp2011est1 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">wbgdp2011est1</span>, na.rm<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span>,</span>
<span>    wbgdp2011est2 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">wbgdp2011est2</span>, na.rm<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span>,</span>
<span>    wbpopest1 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">wbpopest1</span>, na.rm<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span>,</span>
<span>    wbpopest2 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">wbpopest2</span>, na.rm<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">ungroup</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>    capdist <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="va">capdist</span><span class="op">+</span><span class="fl">1</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="co"># subset set to actors with 10mil pop</span></span>
<span><span class="va">actor_to_keep</span> <span class="op">=</span> <span class="va">cow_cross</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">ccode1</span>, <span class="va">wbpopest1</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">wbpopest1</span><span class="op">&gt;</span><span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="fl">10000000</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/distinct.html" class="external-link">distinct</a></span><span class="op">(</span><span class="va">ccode1</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># filter cow_cross by actor_to_keep</span></span>
<span><span class="va">cow_cross</span> <span class="op">=</span> <span class="va">cow_cross</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">ccode1</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="va">actor_to_keep</span><span class="op">$</span><span class="va">ccode1</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">ccode2</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="va">actor_to_keep</span><span class="op">$</span><span class="va">ccode1</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># create netlet</span></span>
<span><span class="va">mid_cross_network</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/netify.html">netify</a></span><span class="op">(</span></span>
<span>  <span class="va">cow_cross</span>,</span>
<span>  actor1<span class="op">=</span><span class="st">'ccode1'</span>, actor2<span class="op">=</span><span class="st">'ccode2'</span>,</span>
<span>  weight<span class="op">=</span><span class="st">'cowmidonset'</span>, </span>
<span>  sum_dyads<span class="op">=</span><span class="cn">FALSE</span>, symmetric<span class="op">=</span><span class="cn">TRUE</span>,</span>
<span>  diag_to_NA<span class="op">=</span><span class="cn">TRUE</span>, missing_to_zero<span class="op">=</span><span class="cn">FALSE</span>,</span>
<span>  nodal_vars <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>    <span class="st">'polity21'</span>, <span class="st">'polity22'</span>, <span class="st">'wbgdp2011est1'</span>, </span>
<span>    <span class="st">'wbgdp2011est2'</span>, <span class="st">'wbpopest1'</span>, <span class="st">'wbpopest2'</span><span class="op">)</span>,</span>
<span>  dyad_vars <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'capdist'</span><span class="op">)</span>,</span>
<span>  dyad_vars_symmetric <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="cn">TRUE</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<p>Next, let‚Äôs take a look at passing our netify object to the
<code>amen</code> function:</p>
<div class="sourceCode" id="cb36"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install (if necessary) and load amen</span></span>
<span><span class="kw">if</span><span class="op">(</span><span class="op">!</span><span class="st">'amen'</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">rownames</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/installed.packages.html" class="external-link">installed.packages</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">'amen'</span>, repos<span class="op">=</span><span class="st">'https://cloud.r-project.org'</span><span class="op">)</span> <span class="op">}</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/pdhoff/amen" class="external-link">amen</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># prep for amen</span></span>
<span><span class="va">mid_cross_amen</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/prep_for_amen.html">prep_for_amen</a></span><span class="op">(</span><span class="va">mid_cross_network</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># we got all the elements we need for amen! woohoO!</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">mid_cross_amen</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## List of 4</span></span>
<span><span class="co">##  $ Y    : num [1:81, 1:81] NA 1 1 0 0 0 0 0 0 0 ...</span></span>
<span><span class="co">##   ..- attr(*, "dimnames")=List of 2</span></span>
<span><span class="co">##   .. ..$ : chr [1:81] "100" "101" "130" "135" ...</span></span>
<span><span class="co">##   .. ..$ : chr [1:81] "100" "101" "130" "135" ...</span></span>
<span><span class="co">##  $ Xdyad: num [1:81, 1:81, 1] NA 6.93 6.6 7.54 7.96 ...</span></span>
<span><span class="co">##   ..- attr(*, "dimnames")=List of 3</span></span>
<span><span class="co">##   .. ..$ : chr [1:81] "100" "101" "130" "135" ...</span></span>
<span><span class="co">##   .. ..$ : chr [1:81] "100" "101" "130" "135" ...</span></span>
<span><span class="co">##   .. ..$ : chr "capdist"</span></span>
<span><span class="co">##  $ Xrow : num [1:81, 1:6] 7 4.35 6.35 6.8 8 9.2 7.8 10 10 10 ...</span></span>
<span><span class="co">##   ..- attr(*, "dimnames")=List of 2</span></span>
<span><span class="co">##   .. ..$ : chr [1:81] "100" "101" "130" "135" ...</span></span>
<span><span class="co">##   .. ..$ : chr [1:6] "polity21" "polity22" "wbgdp2011est1" "wbgdp2011est2" ...</span></span>
<span><span class="co">##  $ Xcol : num [1:81, 1:6] 7 4.35 6.35 6.8 8 9.2 7.8 10 10 10 ...</span></span>
<span><span class="co">##   ..- attr(*, "dimnames")=List of 2</span></span>
<span><span class="co">##   .. ..$ : chr [1:81] "100" "101" "130" "135" ...</span></span>
<span><span class="co">##   .. ..$ : chr [1:6] "polity21" "polity22" "wbgdp2011est1" "wbgdp2011est2" ...</span></span></code></pre>
<div class="sourceCode" id="cb38"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># plug and run</span></span>
<span><span class="va">mid_amen_mod</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/amen/man/ame.html" class="external-link">ame</a></span><span class="op">(</span></span>
<span>  Y<span class="op">=</span><span class="va">mid_cross_amen</span><span class="op">$</span><span class="va">Y</span>,</span>
<span>  Xdyad<span class="op">=</span><span class="va">mid_cross_amen</span><span class="op">$</span><span class="va">Xdyad</span>,</span>
<span>  Xrow<span class="op">=</span><span class="va">mid_cross_amen</span><span class="op">$</span><span class="va">Xrow</span>,</span>
<span>  family<span class="op">=</span><span class="st">'bin'</span>,</span>
<span>  R<span class="op">=</span><span class="fl">0</span>,</span>
<span>  symmetric<span class="op">=</span><span class="cn">TRUE</span>,</span>
<span>  seed<span class="op">=</span><span class="fl">6886</span>,</span>
<span>  nscan<span class="op">=</span><span class="fl">50</span>, </span>
<span>  burn<span class="op">=</span><span class="fl">10</span>, </span>
<span>  odens<span class="op">=</span><span class="fl">1</span>, </span>
<span>  plot<span class="op">=</span><span class="cn">FALSE</span>, </span>
<span>  print<span class="op">=</span><span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>We can apply the same process to ERGMs:</p>
<div class="sourceCode" id="cb39"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install (if necessary) and load ergm</span></span>
<span><span class="kw">if</span><span class="op">(</span><span class="op">!</span><span class="st">'ergm'</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">rownames</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/installed.packages.html" class="external-link">installed.packages</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">'ergm'</span>, repos<span class="op">=</span><span class="st">'https://cloud.r-project.org'</span><span class="op">)</span> <span class="op">}</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://statnet.org" class="external-link">ergm</a></span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Loading required package: network</span></span></code></pre>
<pre><code><span><span class="co">## </span></span>
<span><span class="co">## 'network' 1.18.2 (2023-12-04), part of the Statnet Project</span></span>
<span><span class="co">## * 'news(package="network")' for changes since last version</span></span>
<span><span class="co">## * 'citation("network")' for citation information</span></span>
<span><span class="co">## * 'https://statnet.org' for help, support, and other information</span></span></code></pre>
<pre><code><span><span class="co">## Registered S3 methods overwritten by 'ergm':</span></span>
<span><span class="co">##   method               from</span></span>
<span><span class="co">##   simulate.formula     lme4</span></span>
<span><span class="co">##   simulate.formula_lhs lme4</span></span></code></pre>
<pre><code><span><span class="co">## </span></span>
<span><span class="co">## 'ergm' 4.6.0 (2023-12-17), part of the Statnet Project</span></span>
<span><span class="co">## * 'news(package="ergm")' for changes since last version</span></span>
<span><span class="co">## * 'citation("ergm")' for citation information</span></span>
<span><span class="co">## * 'https://statnet.org' for help, support, and other information</span></span></code></pre>
<pre><code><span><span class="co">## 'ergm' 4 is a major update that introduces some backwards-incompatible</span></span>
<span><span class="co">## changes. Please type 'news(package="ergm")' for a list of major</span></span>
<span><span class="co">## changes.</span></span></code></pre>
<div class="sourceCode" id="cb45"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># called prep_for_statnet because it's a reference</span></span>
<span><span class="co"># to the network library, which is what ergm uses</span></span>
<span><span class="va">mid_cross_ergm</span> <span class="op">=</span> <span class="fu"><a href="../reference/prep_for_statnet.html">prep_for_statnet</a></span><span class="op">(</span><span class="va">mid_cross_network</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># attributes should all be loaded into the </span></span>
<span><span class="co"># appropriate slot</span></span>
<span><span class="co"># notice edge attribtues get a _e suffix added</span></span>
<span><span class="va">mid_cross_ergm</span></span></code></pre></div>
<pre><code><span><span class="co">##  Network attributes:</span></span>
<span><span class="co">##   vertices = 81 </span></span>
<span><span class="co">##   directed = FALSE </span></span>
<span><span class="co">##   hyper = FALSE </span></span>
<span><span class="co">##   loops = FALSE </span></span>
<span><span class="co">##   multiple = FALSE </span></span>
<span><span class="co">##   bipartite = FALSE </span></span>
<span><span class="co">##   cowmidonset: 81x81 matrix</span></span>
<span><span class="co">##   capdist: 81x81 matrix</span></span>
<span><span class="co">##   total edges= 160 </span></span>
<span><span class="co">##     missing edges= 0 </span></span>
<span><span class="co">##     non-missing edges= 160 </span></span>
<span><span class="co">## </span></span>
<span><span class="co">##  Vertex attribute names: </span></span>
<span><span class="co">##     polity21 polity22 vertex.names wbgdp2011est1 wbgdp2011est2 wbpopest1 wbpopest2 </span></span>
<span><span class="co">## </span></span>
<span><span class="co">##  Edge attribute names: </span></span>
<span><span class="co">##     capdist_e cowmidonset</span></span></code></pre>
<div class="sourceCode" id="cb47"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># plug and run</span></span>
<span><span class="co"># Fit the ERGM model (well not a real ergm)</span></span>
<span><span class="va">ergm_model</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/ergm/man/ergm.html" class="external-link">ergm</a></span><span class="op">(</span></span>
<span>  formula <span class="op">=</span> <span class="va">mid_cross_ergm</span> <span class="op">~</span> </span>
<span>     <span class="va">edges</span>  <span class="op">+</span></span>
<span>     <span class="fu">nodecov</span><span class="op">(</span><span class="st">"polity21"</span><span class="op">)</span> <span class="op">+</span> </span>
<span>     <span class="fu">nodecov</span><span class="op">(</span><span class="st">"wbgdp2011est2"</span><span class="op">)</span> <span class="op">+</span></span>
<span>     <span class="fu">nodecov</span><span class="op">(</span><span class="st">"wbpopest2"</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Starting maximum pseudolikelihood estimation (MPLE):</span></span></code></pre>
<pre><code><span><span class="co">## Obtaining the responsible dyads.</span></span></code></pre>
<pre><code><span><span class="co">## Evaluating the predictor and response matrix.</span></span></code></pre>
<pre><code><span><span class="co">## Maximizing the pseudolikelihood.</span></span></code></pre>
<pre><code><span><span class="co">## Finished MPLE.</span></span></code></pre>
<pre><code><span><span class="co">## Evaluating log-likelihood at the estimate.</span></span></code></pre>
<div class="section level3">
<h3 id="bonus-example">Bonus Example<a class="anchor" aria-label="anchor" href="#bonus-example"></a>
</h3>
<p>A common data type used to create networks is in the structure of
event data, where actors are repeated across rows but there is no
specific variable that denotes the ‚Äòedge‚Äô as shown in our previous
example.</p>
<p>We show how to use <code>netify</code> and UCDP data as just one
example of potential applications to intrastate event data. The first
step is to go to <a href="https://ucdp.uu.se/downloads/" class="external-link uri">https://ucdp.uu.se/downloads/</a> and download the data you
want to use. For this tutorial we have downloaded UCDP GED event data
version 23.1 and subset the data for the case of Mexico.</p>
<div class="sourceCode" id="cb54"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/load.html" class="external-link">load</a></span><span class="op">(</span><span class="st">"ucdp_ged_mexico.rda"</span><span class="op">)</span></span></code></pre></div>
<ol style="list-style-type: decimal">
<li>Create an aggregated, weighted network of conflict between actors in
Mexico.</li>
</ol>
<div class="sourceCode" id="cb55"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># default to number of events</span></span>
<span><span class="va">mex_network</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/netify.html">netify</a></span><span class="op">(</span></span>
<span>  dyad_data <span class="op">=</span> <span class="va">mexico</span>,</span>
<span>  actor1 <span class="op">=</span> <span class="st">'side_a'</span>,</span>
<span>  actor2 <span class="op">=</span> <span class="st">'side_b'</span>,</span>
<span>  symmetric <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  sum_dyads <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  diag_to_NA <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  missing_to_zero <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="color: #BBBB00;">!</span> Warning: there are repeating dyads within time periods in the dataset. When `sum_dyads = TRUE` and `weight` is not supplied, edges in the outputted adjacency matrix represent a count of interactions between actors.</span></span></code></pre>
<div class="sourceCode" id="cb57"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># A summary of the network object</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">mex_network</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##   net num_actors    density num_edges prop_edges_missing mean_edge_weight</span></span>
<span><span class="co">## 1   1         72 0.02543036       130                  0         5.608764</span></span>
<span><span class="co">##   sd_edge_weight median_edge_weight min_edge_weight max_edge_weight competition</span></span>
<span><span class="co">## 1       89.74295                  0               0            3076   0.1494919</span></span>
<span><span class="co">##   sd_of_actor_means transitivity</span></span>
<span><span class="co">## 1          17.64839    0.1052632</span></span></code></pre>
<div class="sourceCode" id="cb59"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># weight using a variable</span></span>
<span><span class="va">mex_network_civ</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/netify.html">netify</a></span><span class="op">(</span></span>
<span>  dyad_data <span class="op">=</span> <span class="va">mexico</span>,</span>
<span>  actor1 <span class="op">=</span> <span class="st">'side_a'</span>,</span>
<span>  actor2 <span class="op">=</span> <span class="st">'side_b'</span>,</span>
<span>  weight <span class="op">=</span> <span class="st">'deaths_civilians'</span>,</span>
<span>  symmetric <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  sum_dyads <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  diag_to_NA <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  missing_to_zero <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">mex_network_civ</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##   net num_actors    density num_edges prop_edges_missing mean_edge_weight</span></span>
<span><span class="co">## 1   1         72 0.01643192        84                  0         0.458529</span></span>
<span><span class="co">##   sd_edge_weight median_edge_weight min_edge_weight max_edge_weight competition</span></span>
<span><span class="co">## 1       8.631244                  0               0             377   0.1655174</span></span>
<span><span class="co">##   sd_of_actor_means transitivity</span></span>
<span><span class="co">## 1           1.52567        0.168</span></span></code></pre>
<ol start="2" style="list-style-type: decimal">
<li>Explore</li>
</ol>
<div class="sourceCode" id="cb61"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># select 10 random indices from 1 to the length of select_names</span></span>
<span><span class="va">select_names</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">rownames</a></span><span class="op">(</span><span class="va">mex_network</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">12345</span><span class="op">)</span></span>
<span><span class="va">random_indices</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">select_names</span><span class="op">)</span>, <span class="fl">10</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># select 10 random names using the random indices</span></span>
<span><span class="va">random_names</span> <span class="op">&lt;-</span> <span class="va">select_names</span><span class="op">[</span><span class="va">random_indices</span><span class="op">]</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">mex_network</span>,</span>
<span>     add_text <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p><img src="workshop_demo_files/figure-html/unnamed-chunk-23-1.png" width="576"></p>
<div class="sourceCode" id="cb62"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">mex_network</span>,</span>
<span>     select_text <span class="op">=</span> <span class="va">random_names</span>,</span>
<span>     select_text_display <span class="op">=</span> <span class="va">random_names</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Warning: Removed 62 rows containing missing values or values outside the scale range</span></span>
<span><span class="co">## (`geom_text()`).</span></span></code></pre>
<p><img src="workshop_demo_files/figure-html/unnamed-chunk-23-2.png" width="576"></p>
<div class="sourceCode" id="cb64"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># different edges, highlight same actors, different netify object:</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">mex_network_civ</span>,</span>
<span>     select_text <span class="op">=</span> <span class="va">random_names</span>,</span>
<span>     select_text_display <span class="op">=</span> <span class="va">random_names</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Warning: Removed 38 rows containing missing values or values outside the scale range</span></span>
<span><span class="co">## (`geom_text()`).</span></span></code></pre>
<p><img src="workshop_demo_files/figure-html/unnamed-chunk-23-3.png" width="576"></p>
<p>We can also apply functions from <code>igraph</code>:</p>
<div class="sourceCode" id="cb66"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">i_opt_memb</span> <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">{</span></span>
<span>  <span class="va">ig</span> <span class="op">=</span> <span class="fu"><a href="../reference/prep_for_igraph.html">prep_for_igraph</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span>
<span>  <span class="va">memb</span> <span class="op">=</span> <span class="fu">igraph</span><span class="fu">::</span><span class="fu"><a href="https://r.igraph.org/reference/cluster_optimal.html" class="external-link">cluster_optimal</a></span><span class="op">(</span><span class="va">ig</span><span class="op">)</span><span class="op">$</span><span class="va">membership</span></span>
<span>  <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="va">memb</span><span class="op">)</span></span>
<span>  <span class="op">}</span></span>
<span></span>
<span><span class="co"># add to summary</span></span>
<span><span class="va">sum_mex</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/summary_actor.html">summary_actor</a></span><span class="op">(</span></span>
<span>  <span class="va">mex_network</span>, </span>
<span>  other_stats <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>i_opt_memb<span class="op">=</span><span class="va">i_opt_memb</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h2>
<ul>
<li><p>Cs√°rdi G, Nepusz T, Traag V, Horv√°t S, Zanini F, Noom D, M√ºller K
(2024). igraph: Network Analysis and Visualization in R. <a href="doi:10.5281/zenodo.7682609" class="uri">doi:10.5281/zenodo.7682609</a>, R package version 2.0.3, <a href="https://CRAN.R-project.org/package=igraph" class="external-link uri">https://CRAN.R-project.org/package=igraph</a>.</p></li>
<li><p>Davies, Shawn, Therese Pettersson &amp; Magnus √ñberg (2023).
Organized violence 1989-2022 and the return of conflicts between
states?. Journal of Peace Research 60(4).</p></li>
<li><p>Handcock M, Hunter D, Butts C, Goodreau S, Krivitsky P, Morris M
(2018). ergm: Fit, Simulate and Diagnose Exponential-Family Models for
Networks. The Statnet Project (<a href="http://www.statnet.org" class="external-link uri">http://www.statnet.org</a>). R package version 3.9.4, <a href="https://CRAN.R-project.org/package=ergm" class="external-link uri">https://CRAN.R-project.org/package=ergm</a>.</p></li>
<li><p>Hoff, Peter D. ‚ÄúDyadic data analysis with amen.‚Äù arXiv preprint
arXiv:1506.08237 (2015).</p></li>
<li><p>H√∂gbladh Stina, 2023, ‚ÄúUCDP GED Codebook version 23.1‚Äù,
Department of Peace and Conflict Research, Uppsala University</p></li>
<li><p>Miller S (2022). ‚Äúpeacesciencer: An R Package for Quantitative
Peace Science Research.‚Äù Conflict Management and Peace Science, 39(6),
755‚Äì779. doi: 10.1177/07388942221077926.</p></li>
<li><p>Statnet Development Team (Pavel N. Krivitsky, Mark S. Handcock,
David R. Hunter, Carter T. Butts, Chad Klumb, Steven M. Goodreau, and
Martina Morris) (2003-2023). statnet: Software tools for the Statistical
Modeling of Network Data. URL <a href="http://statnet.org" class="external-link uri">http://statnet.org</a></p></li>
<li><p>Sundberg, Ralph and Erik Melander (2013) Introducing the UCDP
Georeferenced Event Dataset. Journal of Peace Research 50(4).</p></li>
</ul>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Cassy Dorff, Shahryar Minhas.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
