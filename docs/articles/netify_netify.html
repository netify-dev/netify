<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="netify">
<title>Introduction to the netify Package - netify() • netify</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.1.3/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.1.3/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Introduction to the netify Package - netify()">
<meta property="og:description" content="netify">
<meta property="og:image" content="/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">netify</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.1.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-vignettes">Vignettes</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-vignettes">
    <a class="dropdown-item" href="../articles/netify_netify.html">Introduction to the netify Package</a>
    <a class="dropdown-item" href="../articles/netify_investigating.html">Investigating a netify Object</a>
    <div class="dropdown-divider"></div>
    <a class="dropdown-item" href="../articles/netify_bridge.html">Using netify as a bridge to other network packages</a>
    <a class="dropdown-item" href="../articles/netify_objectFactory.html">Using netify as an object factory</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav"></ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Introduction to the netify Package - netify()</h1>
                        <h4 data-toc-skip class="author">Ha Eun Choi,
Cassy Dorff, Colin Henry, and Shahryar Minhas</h4>
            
            <h4 data-toc-skip class="date">2022-12-15</h4>
      
      
      <div class="d-none name"><code>netify_netify.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://devtools.r-lib.org/" class="external-link">devtools</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">netify</span><span class="op">)</span></span></code></pre></div>
<div class="section level2">
<h2 id="overview">Overview<a class="anchor" aria-label="anchor" href="#overview"></a>
</h2>
<p><code>netify</code> is a set of network analysis tools. The package
creates network objects and summarizes, graphs, and analyzes these
objects. <code>netify</code> also provides a bridge to other major
network modeling packages so that users can seamlessly continue their
work with available statistical modeling packages.</p>
<p><code>netify</code> provides a suite of primary functions to help
achieve these goals:</p>
<ul>
<li><code><a href="../reference/netify.html">netify()</a></code></li>
<li><code><a href="../reference/add_dyad.html">add_dyad()</a></code></li>
<li><code><a href="../reference/add_nodal.html">add_nodal()</a></code></li>
<li><code><a href="../reference/peek.html">peek()</a></code></li>
<li><code><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary()</a></code></li>
</ul>
<p>In addition, <code>netify</code> includes additional functions that
help users bridge between <code>netify</code> and other network
packages:</p>
<ul>
<li><code><a href="../reference/prep_for_amen.html">prep_for_amen()</a></code></li>
<li><code><a href="../reference/prep_for_igraph.html">prep_for_igraph()</a></code></li>
<li><code><a href="../reference/prep_for_network.html">prep_for_network()</a></code></li>
</ul>
<div class="section level4">
<h4 id="install">Install<a class="anchor" aria-label="anchor" href="#install"></a>
</h4>
<p>In this document, we provide a brief a tutorial on how to use the
<code>netify</code> package. <code>netify</code> can be installed via
devtools:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://devtools.r-lib.org/" class="external-link">devtools</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">netify</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="starting-with-dyadic-data">Starting with dyadic data<a class="anchor" aria-label="anchor" href="#starting-with-dyadic-data"></a>
</h3>
<p>The <code>netify</code> package allows users to begin with dyadic
data wherein each row of the data represents an event or an exchange
between actors, entities, or groups. In dyadic data, each row typically
contains information about which actors are involved in the event. We
can transform this data into a matrix where each actor represents rows
and columns and exchanges between the actors fill the values of the
matrix.</p>
<p><em><mark>Vignette note:</mark> should we add citations about dyadic
data-to-networks here for those unfamiliar in it?</em></p>
<div class="section level4">
<h4 id="what-data-is-in-the-netify-package">What data is in the netify package?<a class="anchor" aria-label="anchor" href="#what-data-is-in-the-netify-package"></a>
</h4>
<p>We include data examples drawn from four different data sources:
ICEWS, UCDP, ACLED and our mysteriously labeled <strong>event
data.</strong> We can see from looking at a sample of data from
<code>event_data</code> that this is longitudinal dyadic data.</p>
<p><em><mark>Vignette note:</mark> we need more information about this
data, since event_type is excluded it is unclear what the user is
looking at. Also, reminder to see sourcing requirements for
ACLED.</em></p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span>package<span class="op">=</span><span class="st">"netify"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">event_data</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">event_data</span><span class="op">)</span></span>
<span><span class="co">#&gt;   data_id            cname cowc event_date year</span></span>
<span><span class="co">#&gt; 1 6714129          Somalia  SOM 2019-12-31 2019</span></span>
<span><span class="co">#&gt; 2 7187987 Congo - Kinshasa  DRC 2019-12-31 2019</span></span>
<span><span class="co">#&gt; 3 7210326            Sudan  SUD 2019-12-31 2019</span></span>
<span><span class="co">#&gt; 4 7122303 Congo - Kinshasa  DRC 2019-12-31 2019</span></span>
<span><span class="co">#&gt; 5 7099295      South Sudan  SSD 2019-12-31 2019</span></span>
<span><span class="co">#&gt; 6 6714017          Somalia  SOM 2019-12-31 2019</span></span>
<span><span class="co">#&gt;                                                                 actor1</span></span>
<span><span class="co">#&gt; 1                                                           Al Shabaab</span></span>
<span><span class="co">#&gt; 2          Military Forces of the Democratic Republic of Congo (2019-)</span></span>
<span><span class="co">#&gt; 3                       Awlad Mansour Misseriya Ethnic Militia (Sudan)</span></span>
<span><span class="co">#&gt; 4          Military Forces of the Democratic Republic of Congo (2019-)</span></span>
<span><span class="co">#&gt; 5 SPLM-In Opposition: Sudan People's Liberation Movement-In Opposition</span></span>
<span><span class="co">#&gt; 6                                                           Al Shabaab</span></span>
<span><span class="co">#&gt;                                                                                    actor2</span></span>
<span><span class="co">#&gt; 1                                                      Military Forces of Somalia (2017-)</span></span>
<span><span class="co">#&gt; 2                                                           ADF: Allied Democratic Forces</span></span>
<span><span class="co">#&gt; 3                                             Awlad Gaid Misseriya Ethnic Militia (Sudan)</span></span>
<span><span class="co">#&gt; 4                                                             Mayi Mayi Militia (Charles)</span></span>
<span><span class="co">#&gt; 5 SPLM-In Opposition: Sudan People's Liberation Movement-In Opposition (Splinter Faction)</span></span>
<span><span class="co">#&gt; 6                              AMISOM: African Union Mission in Somalia (2007-) (Burundi)</span></span>
<span><span class="co">#&gt;           admin1   admin2 latitude longitude fatalities source</span></span>
<span><span class="co">#&gt; 1 Lower Shabelle  Afgooye   2.3963   45.0159          0  acled</span></span>
<span><span class="co">#&gt; 2      Nord-Kivu     Beni   0.6287   29.9411          1  acled</span></span>
<span><span class="co">#&gt; 3   South Darfur   Bielel  12.2443   25.1096          3  acled</span></span>
<span><span class="co">#&gt; 4      Nord-Kivu Rutshuru  -1.1869   29.4461          0  acled</span></span>
<span><span class="co">#&gt; 5     Upper Nile   Maiwut   8.3833   33.7833          4  acled</span></span>
<span><span class="co">#&gt; 6 Lower Shabelle    Marka   1.7493   44.7437          0  acled</span></span></code></pre></div>
</div>
</div>
<div class="section level3">
<h3 id="using-netify">Using <code>netify()</code><a class="anchor" aria-label="anchor" href="#using-netify"></a>
</h3>
<div class="section level4">
<h4 id="cross-sectional-networks">cross-sectional networks<a class="anchor" aria-label="anchor" href="#cross-sectional-networks"></a>
</h4>
<p>Dyadic data like this represents exchanges between actors or entities
and can be thought of as network data. To analyze dyadic data as a
network, we first transform the data into an adjacency matrix using
<code><a href="../reference/netify.html">netify()</a></code>.</p>
<p>Using <code><a href="../reference/netify.html">netify()</a></code>, we can convert dyadic data into
different network formats:</p>
<ul>
<li>a cross-sectional, symmetric, and weighted network</li>
<li>a cross-sectional, unsymmetric, and weighted network</li>
<li>a cross-sectional, symmetric, and unweighted network</li>
<li>a cross-sectional, unsymmetric, and unweighted network</li>
</ul>
<p>Here, we can think of a cross-sectional network as one time point of
the network, or as an aggregated network (for example, several years of
dyadic data aggregated into one time period). Later, we will show you
how to create a longitudinal network.</p>
<p>The function <code><a href="../reference/netify.html">netify()</a></code> takes a single data.frame:
<code>dyad_data</code>. It returns a netlet object.</p>
<p><em><mark>Error:</mark></em> 1) <em>should reorder
<code>weight</code> in the netify function in <code>netify.R</code></em>
=&gt; HC: fixed 2) <em>the default <code>weight=list(NULL)</code>
produces an error saying: “Error in weight_check(weight) :” It works
fine when <code>weight=NULL</code>. CD gets this full error : “Error:
check data type. <code>weight</code> should be left NULL or a character
value referring to a variable from the dyad_data object should be
provided.”</em> =&gt; HC: not an issue 3) *Fix warning to make it simple
“! Warning: there are repeating dyads within time periods in the
dataset.””</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/netify.html">netify</a></span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="va">dyad_data</span>, </span>
<span>  netify_type <span class="op">=</span> <span class="cn">NULL</span>, </span>
<span>  actor1<span class="op">=</span><span class="cn">NULL</span>, actor2<span class="op">=</span><span class="cn">NULL</span>, </span>
<span>  weight<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="cn">NULL</span><span class="op">)</span>, </span>
<span>  sum_dyads<span class="op">=</span><span class="cn">TRUE</span>, </span>
<span>  symmetric<span class="op">=</span><span class="cn">TRUE</span>,</span>
<span>  nodal_vars<span class="op">=</span><span class="cn">NULL</span>,dyad_vars<span class="op">=</span><span class="cn">NULL</span>, dyad_vars_symmetric<span class="op">=</span><span class="cn">NULL</span>,</span>
<span>  isolates<span class="op">=</span><span class="cn">FALSE</span>, diag_to_NA<span class="op">=</span><span class="cn">TRUE</span>, missing_to_zero<span class="op">=</span><span class="cn">TRUE</span>,</span>
<span>  nodal_data <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="cn">NULL</span><span class="op">)</span>, dyad_data <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="cn">NULL</span><span class="op">)</span>, graph_data <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="cn">NULL</span><span class="op">)</span>, </span>
<span>  <span class="va">...</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<p><code>dyad_data</code> is a dyadic data.frame that should have at
least the following variables used to specify actors:</p>
<ul>
<li>
<code>actor1</code>: character indicating actor 1 variable in the
data</li>
<li>
<code>actor2</code>: character indicating actor 2 variable in the
data</li>
</ul>
<p><code>netify_type</code> is a type of netlet object (‘cross-sec’,
‘longit_list’, or ‘longit_array’). For a cross-sectional network,
‘cross-sec’ should be given.</p>
<p>If the data is symmetric, then the order of the actors does not
matter. If the data is not symmetric, then we can think of actor 1 as
the ‘sender’ and actor 2 as the ‘receiver’ in a given exchange.</p>
<p>Other arguments:</p>
<ul>
<li>
<code>weight</code>: character indicating weighted edge variable in
the data, default is <code>weight=NULL</code>
</li>
<li>
<code>sum_dyads</code>: logical indicating whether to sum up the
<code>weight</code> value when there exists repeating dyads.</li>
<li>
<code>symmetric</code>: logical indicating whether ties are
symmetric, default is <code>TRUE</code>
</li>
<li>
<code>nodal_vars</code>: a vector of which variables from nodeData
should be merged</li>
<li>
<code>dyad_vars</code>: a vector of which variables from nodeData
should be merged</li>
<li>
<code>dyad_vars_symmetric</code>: logical vector indicating whether
ties are symmetric, default is <code>TRUE</code>
</li>
<li>
<code>isolates</code>: logical indicating whether to include
isolates, default is <code>FALSE</code>
</li>
<li>
<code>diag_to_NA</code>: logical indicating whether diagonals should
be set to NA, default is <code>TRUE</code>
</li>
<li>
<code>missing_to_zero</code> logical indicating whether missing
values should be set to zero, default is <code>TRUE</code>
</li>
<li>
<code>nodal_data</code>: nodal data attribute</li>
<li>
<code>dyad_data</code>: dyad data attribute</li>
<li>
<code>graph_data</code>: graph data attribute</li>
</ul>
<p>Let’s transform our dyadic dataset into an adjacency matrix for
analysis. It is important we give the object a name.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">event_mat</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/netify.html">netify</a></span><span class="op">(</span><span class="va">event_data</span>,</span>
<span>                    <span class="st">"cross_sec"</span>,</span>
<span>                    <span class="va">actor1</span>, <span class="va">actor2</span>,</span>
<span>                    weight<span class="op">=</span><span class="cn">NULL</span>, sum_dyads<span class="op">=</span><span class="cn">FALSE</span>, symmetric<span class="op">=</span><span class="cn">TRUE</span>,</span>
<span>                    isolates<span class="op">=</span><span class="cn">FALSE</span>, diag_to_NA<span class="op">=</span><span class="cn">TRUE</span>, missing_to_zero<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">#&gt; Error in actor_check(actor1, actor2, dyad_data): object 'actor1' not found</span></span></code></pre></div>
<p>Why did we get the error? Because actor1 and actor2 need to be
character vectors.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">event_mat</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/netify.html">netify</a></span><span class="op">(</span><span class="va">event_data</span>,</span>
<span>                    netify_type<span class="op">=</span><span class="st">'cross-sec'</span>,</span>
<span>                    actor1<span class="op">=</span><span class="st">'actor1'</span>, actor2<span class="op">=</span><span class="st">'actor2'</span>,</span>
<span>                    weight<span class="op">=</span><span class="cn">NULL</span>, sum_dyads<span class="op">=</span><span class="cn">FALSE</span>, symmetric<span class="op">=</span><span class="cn">TRUE</span>,</span>
<span>                    isolates<span class="op">=</span><span class="cn">FALSE</span>, diag_to_NA<span class="op">=</span><span class="cn">TRUE</span>, missing_to_zero<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00;">!</span> Warning: there are repeating dyads within time periods in the dataset. When `weight` is not supplied and `sum_dyads` is set to FALSE, edges in the outputted adjacency matrix will represent binary interactions between actors.</span></span>
<span><span class="va">event_mat</span></span>
<span><span class="co">#&gt; <span style="color: #00BB00;">✔</span> Hello, you have created network data, yay!</span></span>
<span><span class="co">#&gt; • Symmetric: Yes</span></span>
<span><span class="co">#&gt; • Weighted: Yes</span></span>
<span><span class="co">#&gt; • Number of Unique Actors: 3205</span></span>
<span><span class="co">#&gt; • Number of Edges: 10702</span></span>
<span><span class="co">#&gt; • Number of Time Points: N/A</span></span>
<span><span class="co">#&gt; • Average Number of Actors: 3205</span></span>
<span><span class="co">#&gt; • Nodal Attributes: N/A</span></span></code></pre></div>
<p>Once we have successfully made a new adjacency matrix from our dyadic
data, <code>netify</code> returns a helpful message. The message tells
us if the network is symmetric and it also tells us the number of actors
and number of edges (links or ties) between actors. Note that if you
have repeated dyads in your data, the function warns you. To change
this, you might want to sum those interactions by supplying a weight
value (you must supply a weight if you chose to sum up dyadic
interactions).</p>
<p>The resulting network object is at the core of the
<code>netify</code> package and is what we will pass to most of the
other functions.</p>
</div>
<div class="section level4">
<h4 id="cross-sectional-weighted-network">cross-sectional weighted network<a class="anchor" aria-label="anchor" href="#cross-sectional-weighted-network"></a>
</h4>
<p>The previous use of the <code>netify</code> function allows us to
create an unweighted cross-sectional matrix with binary edges. Now what
if we want to use the variable <code>fatalities</code> to represent the
edges of the network? We can do this by specifying
<code>weight = fatalities.</code></p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">fatality_mat</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/netify.html">netify</a></span><span class="op">(</span><span class="va">event_data</span>,</span>
<span>                       netify_type<span class="op">=</span><span class="st">'cross-sec'</span>,</span>
<span>                       actor1<span class="op">=</span><span class="st">'actor1'</span>, actor2<span class="op">=</span><span class="st">'actor2'</span>,</span>
<span>                       weight<span class="op">=</span><span class="st">'fatalities'</span>, sum_dyads<span class="op">=</span><span class="cn">FALSE</span>, symmetric<span class="op">=</span><span class="cn">TRUE</span>,</span>
<span>                       isolates<span class="op">=</span><span class="cn">FALSE</span>, diag_to_NA<span class="op">=</span><span class="cn">TRUE</span>, missing_to_zero<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00;">!</span> Warning: there are repeating dyads within time periods in the dataset. Since `sum_dyads = FALSE` and `weight` variable is provided the edges in the outputted adjacency matrix will represent the sum of the weight across repeating dyads.</span></span>
<span></span>
<span><span class="va">fatality_mat</span></span>
<span><span class="co">#&gt; <span style="color: #00BB00;">✔</span> Hello, you have created network data, yay!</span></span>
<span><span class="co">#&gt; • Symmetric: Yes</span></span>
<span><span class="co">#&gt; • Weighted: Yes</span></span>
<span><span class="co">#&gt; • Number of Unique Actors: 3205</span></span>
<span><span class="co">#&gt; • Number of Edges: 538828</span></span>
<span><span class="co">#&gt; • Number of Time Points: N/A</span></span>
<span><span class="co">#&gt; • Average Number of Actors: 3205</span></span>
<span><span class="co">#&gt; • Nodal Attributes: N/A</span></span></code></pre></div>
<p>Note, that if there are no repeating dyads, then the function returns
the weight for each i,j. If you have repeating dyads and you want to sum
the weight variable for every time i,j interact in the data (for
example, if they appear multiple times across ‘years’), you need to set
<code>sum_dyads=TRUE</code>.</p>
<p><em><mark>Error</mark></em> =&gt; HC: fixed</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">fatality_mat_rep</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/netify.html">netify</a></span><span class="op">(</span><span class="va">event_data</span>,</span>
<span>                           netify_type<span class="op">=</span><span class="st">'cross-sec'</span>,</span>
<span>                           actor1<span class="op">=</span><span class="st">'actor1'</span>, actor2<span class="op">=</span><span class="st">'actor2'</span>,</span>
<span>                           weight<span class="op">=</span><span class="st">'fatalities'</span>, sum_dyads<span class="op">=</span><span class="cn">TRUE</span>, symmetric<span class="op">=</span><span class="cn">TRUE</span>,</span>
<span>                           isolates<span class="op">=</span><span class="cn">FALSE</span>, diag_to_NA<span class="op">=</span><span class="cn">TRUE</span>, missing_to_zero<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="va">fatality_mat_rep</span></span></code></pre></div>
<p>To understand the difference, compare the two examples:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">fatality_mat</span><span class="op">[</span><span class="fl">20</span><span class="op">:</span><span class="fl">24</span>, <span class="fl">20</span><span class="op">:</span><span class="fl">24</span><span class="op">]</span></span>
<span><span class="va">fatality_mat_rep</span><span class="op">[</span><span class="fl">20</span><span class="op">:</span><span class="fl">24</span>, <span class="fl">20</span><span class="op">:</span><span class="fl">24</span><span class="op">]</span></span></code></pre></div>
<p><em><mark>Notes:</mark></em></p>
<ul>
<li>
<em>Make sure vignette covers:</em>
<ul>
<li><em>calculate edges with no weight without repeating dyads
(cross-sectional)</em></li>
<li><em>calculate edges with weight without repeating dyads
(cross-sectional)</em></li>
<li><em>calculate edges with no weight with repeating dyads
(time)</em></li>
<li><em>calculate edges with weight with repeating dyads
(time)</em></li>
</ul>
</li>
</ul>
<p>=&gt; HC: I think this has been covered here now, or should we make a
separate vignette for this?</p>
</div>
<div class="section level4">
<h4 id="longitudinal-networks">longitudinal networks<a class="anchor" aria-label="anchor" href="#longitudinal-networks"></a>
</h4>
<p>Sometimes we might have data that contains information about time. If
we want to create a network that represents each time period in our data
then we will need to create a <em>longitudinal</em> network. We can do
this using the <code><a href="../reference/netify.html">netify()</a></code> function.</p>
<p>Relevant arguments:</p>
<ul>
<li>
<code>netify_type</code> is a type of netlet object (‘cross-sec’,
‘longit_list’, or ‘longit_array’). For a longitudinal network,
‘longit_list’, or ‘longit_array’ should be given.</li>
<li>
<code>sum_dyads</code>: a logical indicating whether or not to
assume the actors in the network (or nodes) are the same across an
entire time series. This is more relevant for time series data.</li>
<li>
<code>time</code>: character indicating the variable representing
time in the data. If none is provided, the function assumes the network
is cross-sectional.</li>
<li>
<code>actor_time_uniform</code>: logical indicating whether to
assume actors are the same across the full time series observed in the
data. <code>TRUE</code> means that actors are the same across the full
time series observed in the data. <code>FALSE</code> means that actors
come in and out of the observed data and their “existence” should be
determined by the data, meaning that their first year of existence will
be determined by the time point of their first event and their last year
of existence by the time point of their last event.</li>
<li>
<code>actor_pds</code>: a data.frame indicating start and end time
point for every actor, this can be created using
<code>get_actor_time_info.R</code>, unless provided this will estimated
for the user based on their choice of
<code>actor_time_uniform</code>.</li>
</ul>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/netify.html">netify</a></span><span class="op">(</span></span>
<span>  <span class="va">dyad_data</span>,</span>
<span>  <span class="va">netify_type</span>,</span>
<span>  <span class="va">actor1</span>, <span class="va">actor2</span>,</span>
<span>  <span class="va">sum_dyads</span>,</span>
<span>    <span class="va">time</span>,</span>
<span>    actor_time_uniform<span class="op">=</span><span class="cn">TRUE</span>,</span>
<span>    actor_years<span class="op">=</span><span class="cn">NULL</span>,</span>
<span>    nodal_vars<span class="op">=</span><span class="cn">NULL</span>,dyad_vars<span class="op">=</span><span class="cn">NULL</span>, dyad_vars_symmetric<span class="op">=</span><span class="cn">NULL</span>,</span>
<span>  isolates<span class="op">=</span><span class="cn">FALSE</span>, diag_to_NA<span class="op">=</span><span class="cn">TRUE</span>, missing_to_zero<span class="op">=</span><span class="cn">TRUE</span>,</span>
<span>  nodal_data <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="cn">NULL</span><span class="op">)</span>, dyad_data <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="cn">NULL</span><span class="op">)</span>, graph_data <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="cn">NULL</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>Two key arguments help us understand what kind of longitudinal
network we want to create. <code>time</code> denotes which variable from
the data represents time. <code>actor_time_uniform</code> indicates
whether or not the actors in the network change over time. If the actors
do not change, then we set <code>actor_time_uniform=TRUE</code>, and
<code>netify</code> returns a three-dimensional array in which the first
two dimensions correspond to actors and the third corresponds to
time.</p>
<p>If the actors change, then we set
<code>actor_time_uniform = FALSE</code> and the function returns a list
object. Each object in the list will be a matrix at a given time point.
The dimensions of each matrix inside the list will depend on how many
actors (or nodes) “exist” for that time slice.</p>
<p>Let’s try to create an over-time network using the <code>year</code>
variable in <code>event_data.</code></p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">event_mat_time</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu"><a href="../reference/netify.html">netify</a></span><span class="op">(</span></span>
<span>  <span class="va">event_data</span>,</span>
<span>  netify_type<span class="op">=</span><span class="st">'longit_array'</span>,</span>
<span>  actor1<span class="op">=</span><span class="st">"actor1"</span>,actor2<span class="op">=</span> <span class="st">"actor2"</span>,</span>
<span>    time <span class="op">=</span> <span class="st">"year"</span>,</span>
<span>    actor_time_uniform<span class="op">=</span><span class="cn">TRUE</span>,</span>
<span>    actor_years<span class="op">=</span><span class="cn">NULL</span>,</span>
<span>    weight<span class="op">=</span><span class="cn">NULL</span>, symmetric<span class="op">=</span><span class="cn">TRUE</span>,</span>
<span>  isolates<span class="op">=</span><span class="cn">FALSE</span>, diag_to_NA<span class="op">=</span><span class="cn">TRUE</span>, missing_to_zero<span class="op">=</span><span class="cn">TRUE</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00;">!</span> Warning: there are repeating dyads within time periods in the dataset. When `weight` is not supplied and `sum_dyads` is set to FALSE, edges in the outputted adjacency matrix will represent binary interactions between actors.</span></span>
<span></span>
<span><span class="va">event_mat_time</span></span>
<span><span class="co">#&gt; <span style="color: #00BB00;">✔</span> Hello, you have created network data, yay!</span></span>
<span><span class="co">#&gt; • Symmetric: Yes</span></span>
<span><span class="co">#&gt; • Weighted: Yes</span></span>
<span><span class="co">#&gt; • Number of Unique Actors: 3205</span></span>
<span><span class="co">#&gt; • Number of Edges: 17134</span></span>
<span><span class="co">#&gt; • Number of Time Points: 19</span></span>
<span><span class="co">#&gt; • Average Number of Actors: 3205</span></span>
<span><span class="co">#&gt; • Nodal Attributes: N/A</span></span></code></pre></div>
<p>You can double check these outputs on your own. Or you can use
<code>netify</code>’s helper functions. For example, we might want to
take a peek at our network at different time points:</p>
<p><em><mark>Error: An error occurs here because <code>netifyType</code>
has not been assigned</mark></em> <em>For example,
<code>attributes(event_mat_time)$netifyType</code> returns
<code>NULL</code></em> <em>therefore <code>peek</code> stops running as
it cannot identify the netify type of <code>event_mat_time</code>
object</em> =&gt; HC: all fixed</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#use the index location</span></span>
<span><span class="fu"><a href="../reference/peek.html">peek</a></span><span class="op">(</span><span class="va">event_mat_time</span>, tIndex <span class="op">=</span> <span class="fl">18</span><span class="op">)</span></span>
<span><span class="co">#&gt; Showing head for 2018</span></span>
<span><span class="co">#&gt;                                        'Al Shabaab' Militia 3R Aaro Aaro</span></span>
<span><span class="co">#&gt; 'Al Shabaab' Militia                                     NA  0         0</span></span>
<span><span class="co">#&gt; 3R                                                        0 NA         0</span></span>
<span><span class="co">#&gt; Aaro Aaro                                                 0  0        NA</span></span>
<span><span class="co">#&gt; Aasi Clan Militia (Somalia)                               0  0         0</span></span>
<span><span class="co">#&gt; Abakpa Nike Communal Militia (Nigeria)                    0  0         0</span></span>
<span><span class="co">#&gt;                                        Aasi Clan Militia (Somalia)</span></span>
<span><span class="co">#&gt; 'Al Shabaab' Militia                                             0</span></span>
<span><span class="co">#&gt; 3R                                                               0</span></span>
<span><span class="co">#&gt; Aaro Aaro                                                        0</span></span>
<span><span class="co">#&gt; Aasi Clan Militia (Somalia)                                     NA</span></span>
<span><span class="co">#&gt; Abakpa Nike Communal Militia (Nigeria)                           0</span></span>
<span><span class="co">#&gt;                                        Abakpa Nike Communal Militia (Nigeria)</span></span>
<span><span class="co">#&gt; 'Al Shabaab' Militia                                                        0</span></span>
<span><span class="co">#&gt; 3R                                                                          0</span></span>
<span><span class="co">#&gt; Aaro Aaro                                                                   0</span></span>
<span><span class="co">#&gt; Aasi Clan Militia (Somalia)                                                 0</span></span>
<span><span class="co">#&gt; Abakpa Nike Communal Militia (Nigeria)                                     NA</span></span></code></pre></div>
<p>At this point we might wonder, what would have happened if we set
<code>actor_time_uniform=FALSE</code>?</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">event_data_time_actors</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu"><a href="../reference/netify.html">netify</a></span><span class="op">(</span></span>
<span>  <span class="va">event_data</span>,</span>
<span>  netify_type<span class="op">=</span><span class="st">'longit_list'</span>,</span>
<span>  actor1<span class="op">=</span><span class="st">"actor1"</span>,actor2<span class="op">=</span> <span class="st">"actor2"</span>,</span>
<span>    time <span class="op">=</span> <span class="st">"year"</span>,</span>
<span>    actor_time_uniform<span class="op">=</span><span class="cn">FALSE</span>,</span>
<span>    actor_pds<span class="op">=</span><span class="cn">NULL</span>,</span>
<span>    weight<span class="op">=</span><span class="cn">NULL</span>, symmetric<span class="op">=</span><span class="cn">TRUE</span>,</span>
<span>  isolates<span class="op">=</span><span class="cn">FALSE</span>, diag_to_NA<span class="op">=</span><span class="cn">TRUE</span>, missing_to_zero<span class="op">=</span><span class="cn">TRUE</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00;">!</span> Warning: there are repeating dyads within time periods in the dataset. When `weight` is not supplied and `sum_dyads` is set to FALSE, edges in the outputted adjacency matrix will represent binary interactions between actors.</span></span>
<span></span>
<span><span class="va">event_data_time_actors</span></span>
<span><span class="co">#&gt; <span style="color: #00BB00;">✔</span> Hello, you have created network data, yay!</span></span>
<span><span class="co">#&gt; • Symmetric: Yes</span></span>
<span><span class="co">#&gt; • Weighted: Yes</span></span>
<span><span class="co">#&gt; • Number of Unique Actors: 3205</span></span>
<span><span class="co">#&gt; • Number of Edges: 17134</span></span>
<span><span class="co">#&gt; • Number of Time Points: 19</span></span>
<span><span class="co">#&gt; • Average Number of Actors: 592.21</span></span>
<span><span class="co">#&gt; • Nodal Attributes: N/A</span></span></code></pre></div>
<p><em><mark>Notes:</mark></em></p>
<ul>
<li><em>Not sure why, but when I change netify_type to longit_list
instead of longit_array then I get two warnings instead of 1.</em></li>
</ul>
<p>Now that we have told the function that the actors change over time,
let’s see if it number of actors changes for each timeslice.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span><span class="va">event_data_time_actors</span>, <span class="va">dim</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; $`2001`</span></span>
<span><span class="co">#&gt; [1] 188 188</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $`2002`</span></span>
<span><span class="co">#&gt; [1] 259 259</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $`2003`</span></span>
<span><span class="co">#&gt; [1] 291 291</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $`2004`</span></span>
<span><span class="co">#&gt; [1] 319 319</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $`2005`</span></span>
<span><span class="co">#&gt; [1] 379 379</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $`2006`</span></span>
<span><span class="co">#&gt; [1] 439 439</span></span></code></pre></div>
<p>Cool! Our actors are definitely changing over time! And is the
resulting object a list?</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">is.list</a></span><span class="op">(</span><span class="va">event_data_time_actors</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] TRUE</span></span></code></pre></div>
</div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by <a href="https://polisci.msu.edu/people/directory/choi-ha-eun.html" class="external-link">Ha Eun Choi</a>, <a href="https://www.cassydorff.com/" class="external-link">Cassy Dorff</a>, <a href="https://henryhenryhenry.com" class="external-link">Colin Henry</a>, <a href="https://s7minhas.com/" class="external-link">Shahryar Minhas</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
