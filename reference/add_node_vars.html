<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Add nodal variables to a netify object — add_node_vars • netify</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Add nodal variables to a netify object — add_node_vars"><meta name="description" content="add_node_vars (also available as add_vertex_attributes)
merges nodal (vertex-level) variables from a data.frame into an
existing netify object. This function allows you to incrementally build up
the nodal attributes of your network after initial creation, which is useful
when actor-level variables come from different sources or need different
preprocessing."><meta property="og:description" content="add_node_vars (also available as add_vertex_attributes)
merges nodal (vertex-level) variables from a data.frame into an
existing netify object. This function allows you to incrementally build up
the nodal attributes of your network after initial creation, which is useful
when actor-level variables come from different sources or need different
preprocessing."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">netify</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.3</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/foundations.html">Foundations</a></li>
    <li><a class="dropdown-item" href="../articles/event_data.html">Event Data</a></li>
    <li><a class="dropdown-item" href="../articles/ego_networks.html">Ego Networks</a></li>
    <li><a class="dropdown-item" href="../articles/manual_plotting.html">Manual Plotting with ggplot2</a></li>
    <li><a class="dropdown-item" href="../articles/resources.html">Helpful Resources</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/netify-dev/netify/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Add nodal variables to a netify object</h1>
      <small class="dont-index">Source: <a href="https://github.com/netify-dev/netify/blob/main/R/add_node_vars.R" class="external-link"><code>R/add_node_vars.R</code></a></small>
      <div class="d-none name"><code>add_node_vars.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><code>add_node_vars</code> (also available as <code>add_vertex_attributes</code>)
merges nodal (vertex-level) variables from a data.frame into an
existing netify object. This function allows you to incrementally build up
the nodal attributes of your network after initial creation, which is useful
when actor-level variables come from different sources or need different
preprocessing.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">add_node_vars</span><span class="op">(</span></span>
<span>  <span class="va">netlet</span>,</span>
<span>  <span class="va">node_data</span>,</span>
<span>  actor <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  time <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  node_vars <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  replace_existing <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">add_vertex_attributes</span><span class="op">(</span></span>
<span>  <span class="va">netlet</span>,</span>
<span>  <span class="va">node_data</span>,</span>
<span>  actor <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  time <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  node_vars <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  replace_existing <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-netlet">netlet<a class="anchor" aria-label="anchor" href="#arg-netlet"></a></dt>
<dd><p>A netify object (class "netify") to which nodal variables will be added.</p></dd>


<dt id="arg-node-data">node_data<a class="anchor" aria-label="anchor" href="#arg-node-data"></a></dt>
<dd><p>A data.frame object containing the nodal variables to add. For
cross-sectional networks, must have one row per unique actor. For longitudinal
networks, must have one row per actor-time combination. Will be coerced to
data.frame if a tibble or data.table is provided.</p></dd>


<dt id="arg-actor">actor<a class="anchor" aria-label="anchor" href="#arg-actor"></a></dt>
<dd><p>Character string specifying the column name in node_data that uniquely
identifies each actor. This should contain the same actor identifiers used in
the original netify object.</p></dd>


<dt id="arg-time">time<a class="anchor" aria-label="anchor" href="#arg-time"></a></dt>
<dd><p>Character string specifying the column name in node_data for time periods.
Required for longitudinal netify objects. Should match the time specification
used when creating the netify object. Set to NULL for cross-sectional networks.</p></dd>


<dt id="arg-node-vars">node_vars<a class="anchor" aria-label="anchor" href="#arg-node-vars"></a></dt>
<dd><p>Character vector of column names from node_data to add as nodal
variables. If NULL (default), all columns except actor and time will be added.</p></dd>


<dt id="arg-replace-existing">replace_existing<a class="anchor" aria-label="anchor" href="#arg-replace-existing"></a></dt>
<dd><p>Logical scalar. If TRUE, existing nodal variables with the
same names will be replaced. If FALSE (default), attempting to add variables
that already exist will result in an error.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A netify object (class "netify") with the additional nodal variables stored in the
'nodal_data' attribute as a data.frame. The structure includes:</p><ul><li><p><strong>actor</strong>: Column with actor identifiers</p></li>
<li><p><strong>time</strong>: Column with time periods (longitudinal only)</p></li>
<li><p><strong>nodal variables</strong>: Columns for each variable specified in node_vars</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Nodal variables are stored as a data.frame where each row represents an actor
(cross-sectional) or an actor-time combination (longitudinal). This format
allows for efficient storage and easy manipulation of actor-level attributes.</p>
<p>The function automatically handles merging based on actor identifiers, ensuring
that nodal attributes are properly aligned with the network structure. For
longitudinal networks, the function matches both actor and time dimensions.</p>
<p>Missing actors in the node_data will result in NA values for those actors'
attributes in the netify object. Similarly, if node_data contains actors not
present in the network, those rows will be ignored.</p>
    </div>
    <div class="section level2">
    <h2 id="note">Note<a class="anchor" aria-label="anchor" href="#note"></a></h2>
    <p>The input <code>node_data</code> must be a <code>data.frame</code> or an object that can be coerced
into a <code>data.frame</code> (e.g., a <code>tibble</code> or <code>data.table</code>). Inputs such as matrices
or arrays are not supported.</p>
<p>For longitudinal networks, ensure that node_data contains entries for all
actor-time combinations you wish to have attributes for. Missing combinations
will result in NA values for those actors at those time points.</p>
<p>When working with large networks, the nodal data storage is more memory-efficient
than dyadic data, as it scales linearly with the number of actors rather than
quadratically.</p>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Colin Henry, Shahryar Minhas</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Load example data</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">icews</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Cross-sectional example</span></span></span>
<span class="r-in"><span><span class="va">icews_10</span> <span class="op">&lt;-</span> <span class="va">icews</span><span class="op">[</span><span class="va">icews</span><span class="op">$</span><span class="va">year</span> <span class="op">==</span> <span class="fl">2010</span>, <span class="op">]</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Create initial netify object</span></span></span>
<span class="r-in"><span><span class="va">verbCoop_net</span> <span class="op">&lt;-</span> <span class="fu"><a href="netify.html">netify</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="va">icews_10</span>, <span class="co"># data.frame input</span></span></span>
<span class="r-in"><span>    actor1 <span class="op">=</span> <span class="st">"i"</span>, actor2 <span class="op">=</span> <span class="st">"j"</span>,</span></span>
<span class="r-in"><span>    symmetric <span class="op">=</span> <span class="cn">FALSE</span>,</span></span>
<span class="r-in"><span>    weight <span class="op">=</span> <span class="st">"verbCoop"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Prepare nodal data - one row per unique actor</span></span></span>
<span class="r-in"><span><span class="va">nvars</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"i_polity2"</span>, <span class="st">"i_gdp"</span>, <span class="st">"i_log_gdp"</span>, <span class="st">"i_pop"</span>, <span class="st">"i_log_pop"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">nodeData</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">icews_10</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"i"</span>, <span class="va">nvars</span><span class="op">)</span><span class="op">]</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/class.html" class="external-link">class</a></span><span class="op">(</span><span class="va">nodeData</span><span class="op">)</span> <span class="co"># "data.frame"</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "data.frame"</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">nodeData</span><span class="op">)</span> <span class="co"># Number of unique actors</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 152</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">nodeData</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                 i i_polity2        i_gdp i_log_gdp    i_pop i_log_pop</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10    Afghanistan        NA  16047892927  23.49884 28189672  17.15447</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2250      Albania         9  10420206418  23.06701  2913021  14.88470</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4490      Algeria         2 140977153156  25.67186 35856344  17.39503</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6730       Angola        -2  69938841426  24.97089 23364185  16.96671</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8970    Argentina         8 552738161802  27.03815 40788453  17.52391</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11210     Armenia         5   8513508876  22.86492  2946293  14.89606</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Add nodal variables</span></span></span>
<span class="r-in"><span><span class="va">verbCoop_net</span> <span class="op">&lt;-</span> <span class="fu">add_node_vars</span><span class="op">(</span></span></span>
<span class="r-in"><span>    netlet <span class="op">=</span> <span class="va">verbCoop_net</span>, <span class="co"># netify object</span></span></span>
<span class="r-in"><span>    node_data <span class="op">=</span> <span class="va">nodeData</span>, <span class="co"># data.frame with actor attributes</span></span></span>
<span class="r-in"><span>    actor <span class="op">=</span> <span class="st">"i"</span>, <span class="co"># column identifying actors</span></span></span>
<span class="r-in"><span>    node_vars <span class="op">=</span> <span class="va">nvars</span> <span class="co"># variables to add</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Access nodal data (returns data.frame)</span></span></span>
<span class="r-in"><span><span class="va">node_data_stored</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/attr.html" class="external-link">attr</a></span><span class="op">(</span><span class="va">verbCoop_net</span>, <span class="st">"nodal_data"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/class.html" class="external-link">class</a></span><span class="op">(</span><span class="va">node_data_stored</span><span class="op">)</span> <span class="co"># "data.frame"</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "data.frame"</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">node_data_stored</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         actor i_polity2        i_gdp i_log_gdp    i_pop i_log_pop</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 Afghanistan        NA  16047892927  23.49884 28189672  17.15447</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2     Albania         9  10420206418  23.06701  2913021  14.88470</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3     Algeria         2 140977153156  25.67186 35856344  17.39503</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4      Angola        -2  69938841426  24.97089 23364185  16.96671</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5   Argentina         8 552738161802  27.03815 40788453  17.52391</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6     Armenia         5   8513508876  22.86492  2946293  14.89606</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">node_data_stored</span><span class="op">)</span> <span class="co"># "actor" plus variable names</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "actor"     "i_polity2" "i_gdp"     "i_log_gdp" "i_pop"     "i_log_pop"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Longitudinal example</span></span></span>
<span class="r-in"><span><span class="va">verbCoop_longit_net</span> <span class="op">&lt;-</span> <span class="fu"><a href="netify.html">netify</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="va">icews</span>, <span class="co"># data.frame input</span></span></span>
<span class="r-in"><span>    actor1 <span class="op">=</span> <span class="st">"i"</span>, actor2 <span class="op">=</span> <span class="st">"j"</span>, time <span class="op">=</span> <span class="st">"year"</span>,</span></span>
<span class="r-in"><span>    symmetric <span class="op">=</span> <span class="cn">FALSE</span>,</span></span>
<span class="r-in"><span>    weight <span class="op">=</span> <span class="st">"verbCoop"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Prepare longitudinal nodal data - one row per actor-time combination</span></span></span>
<span class="r-in"><span><span class="va">nodeData_longit</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">icews</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"i"</span>, <span class="st">"year"</span>, <span class="va">nvars</span><span class="op">)</span><span class="op">]</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/class.html" class="external-link">class</a></span><span class="op">(</span><span class="va">nodeData_longit</span><span class="op">)</span> <span class="co"># "data.frame"</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "data.frame"</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">nodeData_longit</span><span class="op">)</span> <span class="co"># Number of actor-time combinations</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 1976</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Add nodal variables with time dimension</span></span></span>
<span class="r-in"><span><span class="va">verbCoop_longit_net</span> <span class="op">&lt;-</span> <span class="fu">add_node_vars</span><span class="op">(</span></span></span>
<span class="r-in"><span>    netlet <span class="op">=</span> <span class="va">verbCoop_longit_net</span>, <span class="co"># netify object</span></span></span>
<span class="r-in"><span>    node_data <span class="op">=</span> <span class="va">nodeData_longit</span>, <span class="co"># data.frame with longitudinal data</span></span></span>
<span class="r-in"><span>    actor <span class="op">=</span> <span class="st">"i"</span>, <span class="co"># column identifying actors</span></span></span>
<span class="r-in"><span>    time <span class="op">=</span> <span class="st">"year"</span>, <span class="co"># column identifying time</span></span></span>
<span class="r-in"><span>    node_vars <span class="op">=</span> <span class="va">nvars</span> <span class="co"># variables to add</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Access longitudinal nodal data</span></span></span>
<span class="r-in"><span><span class="va">node_data_longit</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/attr.html" class="external-link">attr</a></span><span class="op">(</span><span class="va">verbCoop_longit_net</span>, <span class="st">"nodal_data"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/class.html" class="external-link">class</a></span><span class="op">(</span><span class="va">node_data_longit</span><span class="op">)</span> <span class="co"># "data.frame"</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "data.frame"</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">node_data_longit</span><span class="op">)</span> <span class="co"># Now includes time column</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         actor time i_polity2       i_gdp i_log_gdp    i_pop i_log_pop</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 Afghanistan 2002        NA  7555185296  22.74550 21000256  16.86005</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 Afghanistan 2003        NA  8222480251  22.83014 22645130  16.93546</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3 Afghanistan 2004        NA  8338755823  22.84418 23553551  16.97479</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4 Afghanistan 2005        NA  9275174321  22.95061 24411191  17.01055</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5 Afghanistan 2006        NA  9772082812  23.00280 25442944  17.05195</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6 Afghanistan 2007        NA 11123202208  23.13230 25903301  17.06988</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Filter to specific time period</span></span></span>
<span class="r-in"><span><span class="va">node_data_2010</span> <span class="op">&lt;-</span> <span class="va">node_data_longit</span><span class="op">[</span><span class="va">node_data_longit</span><span class="op">$</span><span class="va">time</span> <span class="op">==</span> <span class="st">"2010"</span>, <span class="op">]</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">node_data_2010</span><span class="op">)</span> <span class="co"># Number of actors in 2010</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 152</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Example: Add variables from external source</span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="co"># Suppose you have additional actor data</span></span></span>
<span class="r-in"><span><span class="va">external_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    i <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">icews_10</span><span class="op">$</span><span class="va">i</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    democracy_score <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">icews_10</span><span class="op">$</span><span class="va">i</span><span class="op">)</span><span class="op">)</span>, <span class="fl">0</span>, <span class="fl">10</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    trade_openness <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">icews_10</span><span class="op">$</span><span class="va">i</span><span class="op">)</span><span class="op">)</span>, <span class="fl">0</span>, <span class="fl">100</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">verbCoop_net</span> <span class="op">&lt;-</span> <span class="fu">add_node_vars</span><span class="op">(</span></span></span>
<span class="r-in"><span>    netlet <span class="op">=</span> <span class="va">verbCoop_net</span>,</span></span>
<span class="r-in"><span>    node_data <span class="op">=</span> <span class="va">external_data</span>,</span></span>
<span class="r-in"><span>    actor <span class="op">=</span> <span class="st">"i"</span>,</span></span>
<span class="r-in"><span>    node_vars <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"democracy_score"</span>, <span class="st">"trade_openness"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Cassy Dorff, Shahryar Minhas.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

