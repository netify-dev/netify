<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Compare networks across time, layers, or attributes — compare_networks • netify</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Compare networks across time, layers, or attributes — compare_networks"><meta name="description" content="Performs comprehensive comparison of networks to identify similarities and
differences. Supports comparison of edge patterns, structural properties,
and node compositions across multiple networks or within subgroups."><meta property="og:description" content="Performs comprehensive comparison of networks to identify similarities and
differences. Supports comparison of edge patterns, structural properties,
and node compositions across multiple networks or within subgroups."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">netify</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/foundations.html">Foundations</a></li>
    <li><a class="dropdown-item" href="../articles/event_data.html">Event Data</a></li>
    <li><a class="dropdown-item" href="../articles/tracking_changes.html">Tracking Changes in Cooperation and Conflict: Comparing Networks</a></li>
    <li><a class="dropdown-item" href="../articles/attribute_analysis.html">Measuring Who Connects with Whom: Homophily &amp; Dyadic Analysis</a></li>
    <li><a class="dropdown-item" href="../articles/ego_networks.html">Ego Networks</a></li>
    <li><a class="dropdown-item" href="../articles/manual_plotting.html">Manual Plotting with ggplot2</a></li>
    <li><a class="dropdown-item" href="../articles/resources.html">Helpful Resources</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/netify-dev/netify/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Compare networks across time, layers, or attributes</h1>
      <small class="dont-index">Source: <a href="https://github.com/netify-dev/netify/blob/main/R/compare_networks.R" class="external-link"><code>R/compare_networks.R</code></a></small>
      <div class="d-none name"><code>compare_networks.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Performs comprehensive comparison of networks to identify similarities and
differences. Supports comparison of edge patterns, structural properties,
and node compositions across multiple networks or within subgroups.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">compare_networks</span><span class="op">(</span></span>
<span>  <span class="va">nets</span>,</span>
<span>  method <span class="op">=</span> <span class="st">"correlation"</span>,</span>
<span>  by <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  what <span class="op">=</span> <span class="st">"edges"</span>,</span>
<span>  test <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  n_permutations <span class="op">=</span> <span class="fl">1000</span>,</span>
<span>  include_diagonal <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  return_details <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  edge_threshold <span class="op">=</span> <span class="fl">0</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-nets">nets<a class="anchor" aria-label="anchor" href="#arg-nets"></a></dt>
<dd><p>Either a list of netify objects to compare, or a single netify
object (for longitudinal, multilayer, or by-group comparisons).</p></dd>


<dt id="arg-method">method<a class="anchor" aria-label="anchor" href="#arg-method"></a></dt>
<dd><p>Character string specifying comparison method:</p><dl><dt>"correlation"</dt>
<dd><p>Pearson correlation of edge weights (default)</p></dd>

<dt>"jaccard"</dt>
<dd><p>Jaccard similarity for binary networks</p></dd>

<dt>"hamming"</dt>
<dd><p>Hamming distance (proportion of differing edges)</p></dd>

<dt>"qap"</dt>
<dd><p>Quadratic Assignment Procedure with permutation test</p></dd>

<dt>"spectral"</dt>
<dd><p>Spectral distance based on eigenvalue spectra. Measures
global structural differences by comparing the sorted eigenvalues of network
Laplacian matrices. Useful for detecting fundamental structural changes.</p></dd>

<dt>"all"</dt>
<dd><p>Applies all applicable methods</p></dd>


</dl></dd>


<dt id="arg-by">by<a class="anchor" aria-label="anchor" href="#arg-by"></a></dt>
<dd><p>Character vector of nodal attributes. If specified, compares networks
within and between attribute groups rather than across input networks.
(Note: Currently not fully implemented)</p></dd>


<dt id="arg-what">what<a class="anchor" aria-label="anchor" href="#arg-what"></a></dt>
<dd><p>Character string specifying what to compare:</p><dl><dt>"edges"</dt>
<dd><p>Edge-level comparison (default)</p></dd>

<dt>"structure"</dt>
<dd><p>Structural properties (density, clustering, etc.)</p></dd>

<dt>"nodes"</dt>
<dd><p>Node composition and attributes</p></dd>

<dt>"attributes"</dt>
<dd><p>Compare networks based on node attribute distributions</p></dd>


</dl></dd>


<dt id="arg-test">test<a class="anchor" aria-label="anchor" href="#arg-test"></a></dt>
<dd><p>Logical. Whether to perform significance testing. Default TRUE.</p></dd>


<dt id="arg-n-permutations">n_permutations<a class="anchor" aria-label="anchor" href="#arg-n-permutations"></a></dt>
<dd><p>Integer. Number of permutations for QAP test. Default 1000.</p></dd>


<dt id="arg-include-diagonal">include_diagonal<a class="anchor" aria-label="anchor" href="#arg-include-diagonal"></a></dt>
<dd><p>Logical. Whether to include diagonal in comparison. Default FALSE.</p></dd>


<dt id="arg-return-details">return_details<a class="anchor" aria-label="anchor" href="#arg-return-details"></a></dt>
<dd><p>Logical. Whether to return detailed comparison matrices. Default FALSE.</p></dd>


<dt id="arg-edge-threshold">edge_threshold<a class="anchor" aria-label="anchor" href="#arg-edge-threshold"></a></dt>
<dd><p>Numeric or function. For weighted networks, threshold to
determine edge presence. Default is 0 (any positive weight).</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A list of class "netify_comparison" containing:</p><dl><dt>comparison_type</dt>
<dd><p>Character string: "cross_network", "temporal", "multilayer", or "by_group"</p></dd>

<dt>method</dt>
<dd><p>Comparison method(s) used</p></dd>

<dt>n_networks</dt>
<dd><p>Number of networks compared</p></dd>

<dt>summary</dt>
<dd><p>Data frame with comparison statistics</p></dd>

<dt>edge_changes</dt>
<dd><p>List detailing added, removed, and maintained edges (for edge comparisons)</p></dd>

<dt>node_changes</dt>
<dd><p>List detailing added, removed, and maintained nodes (for node comparisons)</p></dd>

<dt>significance_tests</dt>
<dd><p>QAP test results if test = TRUE</p></dd>

<dt>details</dt>
<dd><p>Detailed comparison matrices if return_details = TRUE</p></dd>


</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The function supports four types of comparisons:</p>
<p><strong>Edge comparison (what = "edges"):</strong>
Compares edge patterns between networks using correlation, Jaccard similarity,
Hamming distance, spectral distance, or QAP permutation tests. Returns detailed
edge changes showing which edges are added, removed, or maintained between networks.</p>
<p><strong>Structure comparison (what = "structure"):</strong>
Compares network-level properties like density, reciprocity, transitivity, and
mean degree. For two networks, also provides percent change calculations.</p>
<p><strong>Node comparison (what = "nodes"):</strong>
Analyzes changes in actor composition between networks, tracking which actors
enter or exit the network.</p>
<p><strong>Attribute comparison (what = "attributes"):</strong>
Compares distributions of node attributes across networks using appropriate
statistical tests (KS test for continuous, total variation distance for categorical).</p>
<p><strong>Automatic handling of longitudinal data:</strong>
When passed a single longitudinal netify object, the function automatically
extracts time periods and performs pairwise comparisons between them.</p>
<p><strong>Automatic handling of multilayer networks:</strong>
When passed a single multilayer netify object (created with <code><a href="layer_netify.html">layer_netify()</a></code>),
the function automatically extracts layers and performs pairwise comparisons between
them. This works for cross-sectional multilayer (3D arrays), longitudinal multilayer
(4D arrays), and longitudinal list multilayer formats.</p>
<p><strong>Summary statistics interpretation:</strong></p><ul><li><p>Correlation: Ranges from -1 to 1, measuring linear relationship between edge weights</p></li>
<li><p>Jaccard: Ranges from 0 to 1, proportion of edges present in both networks</p></li>
<li><p>Hamming: Ranges from 0 to 1, proportion of differing edges</p></li>
<li><p>QAP p-value: Significance of observed correlation under random permutation</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Cassy Dorff, Shahryar Minhas</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Load example data</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">icews</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Create networks for different years</span></span></span>
<span class="r-in"><span><span class="va">net_2002</span> <span class="op">&lt;-</span> <span class="fu"><a href="netify.html">netify</a></span><span class="op">(</span><span class="va">icews</span><span class="op">[</span><span class="va">icews</span><span class="op">$</span><span class="va">year</span> <span class="op">==</span> <span class="fl">2002</span>,<span class="op">]</span>, </span></span>
<span class="r-in"><span>                   actor1 <span class="op">=</span> <span class="st">"i"</span>, actor2 <span class="op">=</span> <span class="st">"j"</span>, </span></span>
<span class="r-in"><span>                   weight <span class="op">=</span> <span class="st">"matlConf"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">net_2003</span> <span class="op">&lt;-</span> <span class="fu"><a href="netify.html">netify</a></span><span class="op">(</span><span class="va">icews</span><span class="op">[</span><span class="va">icews</span><span class="op">$</span><span class="va">year</span> <span class="op">==</span> <span class="fl">2003</span>,<span class="op">]</span>, </span></span>
<span class="r-in"><span>                   actor1 <span class="op">=</span> <span class="st">"i"</span>, actor2 <span class="op">=</span> <span class="st">"j"</span>, </span></span>
<span class="r-in"><span>                   weight <span class="op">=</span> <span class="st">"matlConf"</span><span class="op">)</span></span></span>
<span class="r-in"><span>                   </span></span>
<span class="r-in"><span><span class="co"># Basic edge comparison</span></span></span>
<span class="r-in"><span><span class="va">comp</span> <span class="op">&lt;-</span> <span class="fu">compare_networks</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"2002"</span> <span class="op">=</span> <span class="va">net_2002</span>, <span class="st">"2003"</span> <span class="op">=</span> <span class="va">net_2003</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">comp</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Network Comparison Results</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ==========================</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Type: cross_network </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Method: correlation </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Networks compared: 2 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Summary Statistics:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    comparison correlation</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  2002 vs 2003   0.9431624</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Edge Changes:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   2002_vs_2003: 1366 added, 1198 removed, 1866 maintained</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Structural comparison</span></span></span>
<span class="r-in"><span><span class="va">struct_comp</span> <span class="op">&lt;-</span> <span class="fu">compare_networks</span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">net_2002</span>, <span class="va">net_2003</span><span class="op">)</span>, </span></span>
<span class="r-in"><span>  what <span class="op">=</span> <span class="st">"structure"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Create longitudinal network for automatic temporal comparison</span></span></span>
<span class="r-in"><span><span class="va">longit_net</span> <span class="op">&lt;-</span> <span class="fu"><a href="netify.html">netify</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="va">icews</span>,</span></span>
<span class="r-in"><span>  actor1 <span class="op">=</span> <span class="st">"i"</span>, actor2 <span class="op">=</span> <span class="st">"j"</span>, </span></span>
<span class="r-in"><span>  time <span class="op">=</span> <span class="st">"year"</span>,</span></span>
<span class="r-in"><span>  weight <span class="op">=</span> <span class="st">"verbCoop"</span>,</span></span>
<span class="r-in"><span>  output_format <span class="op">=</span> <span class="st">"longit_list"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Automatic temporal comparison</span></span></span>
<span class="r-in"><span><span class="va">temporal_comp</span> <span class="op">&lt;-</span> <span class="fu">compare_networks</span><span class="op">(</span><span class="va">longit_net</span>, method <span class="op">=</span> <span class="st">"all"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Create multilayer network example</span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="co"># Create separate networks for different interaction types</span></span></span>
<span class="r-in"><span><span class="va">verbal_coop</span> <span class="op">&lt;-</span> <span class="fu"><a href="netify.html">netify</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="va">icews</span><span class="op">[</span><span class="va">icews</span><span class="op">$</span><span class="va">year</span> <span class="op">==</span> <span class="fl">2010</span>,<span class="op">]</span>,</span></span>
<span class="r-in"><span>  actor1 <span class="op">=</span> <span class="st">"i"</span>, actor2 <span class="op">=</span> <span class="st">"j"</span>,</span></span>
<span class="r-in"><span>  weight <span class="op">=</span> <span class="st">"verbCoop"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">material_coop</span> <span class="op">&lt;-</span> <span class="fu"><a href="netify.html">netify</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="va">icews</span><span class="op">[</span><span class="va">icews</span><span class="op">$</span><span class="va">year</span> <span class="op">==</span> <span class="fl">2010</span>,<span class="op">]</span>,</span></span>
<span class="r-in"><span>  actor1 <span class="op">=</span> <span class="st">"i"</span>, actor2 <span class="op">=</span> <span class="st">"j"</span>,</span></span>
<span class="r-in"><span>  weight <span class="op">=</span> <span class="st">"matlCoop"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Combine into multilayer network</span></span></span>
<span class="r-in"><span><span class="va">multilayer</span> <span class="op">&lt;-</span> <span class="fu"><a href="layer_netify.html">layer_netify</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>verbal <span class="op">=</span> <span class="va">verbal_coop</span>, material <span class="op">=</span> <span class="va">material_coop</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Automatic multilayer comparison</span></span></span>
<span class="r-in"><span><span class="va">layer_comp</span> <span class="op">&lt;-</span> <span class="fu">compare_networks</span><span class="op">(</span><span class="va">multilayer</span>, method <span class="op">=</span> <span class="st">"all"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">layer_comp</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># Will show comparison between verbal and material cooperation layers</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Get detailed matrices</span></span></span>
<span class="r-in"><span><span class="va">detailed_comp</span> <span class="op">&lt;-</span> <span class="fu">compare_networks</span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">net_2002</span>, <span class="va">net_2003</span><span class="op">)</span>, </span></span>
<span class="r-in"><span>  return_details <span class="op">=</span> <span class="cn">TRUE</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">detailed_comp</span><span class="op">$</span><span class="va">details</span><span class="op">)</span>  <span class="co"># Shows available matrices</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "correlation_matrix" "jaccard_matrix"     "hamming_matrix"    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [4] "spectral_matrix"   </span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Cassy Dorff, Shahryar Minhas.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

