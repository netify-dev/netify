<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Generate symmetric identifiers for dyadic data — gen_symm_id • netify</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Generate symmetric identifiers for dyadic data — gen_symm_id"><meta name="description" content="gen_symm_id creates symmetric identifiers for dyadic data, ensuring that
each unique pair of actors receives the same ID regardless of order. This is
particularly useful for undirected network data where the relationship between
actors A and B is identical to the relationship between B and A."><meta property="og:description" content="gen_symm_id creates symmetric identifiers for dyadic data, ensuring that
each unique pair of actors receives the same ID regardless of order. This is
particularly useful for undirected network data where the relationship between
actors A and B is identical to the relationship between B and A."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">netify</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/foundations.html">Foundations</a></li>
    <li><a class="dropdown-item" href="../articles/event_data.html">Event Data</a></li>
    <li><a class="dropdown-item" href="../articles/ego_networks.html">Ego Networks</a></li>
    <li><a class="dropdown-item" href="../articles/manual_plotting.html">Manual Plotting with ggplot2</a></li>
    <li><a class="dropdown-item" href="../articles/resources.html">Helpful Resources</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/netify-dev/netify/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Generate symmetric identifiers for dyadic data</h1>
      <small class="dont-index">Source: <a href="https://github.com/netify-dev/netify/blob/main/R/aggregate_dyad.R" class="external-link"><code>R/aggregate_dyad.R</code></a></small>
      <div class="d-none name"><code>gen_symm_id.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><code>gen_symm_id</code> creates symmetric identifiers for dyadic data, ensuring that
each unique pair of actors receives the same ID regardless of order. This is
particularly useful for undirected network data where the relationship between
actors A and B is identical to the relationship between B and A.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">gen_symm_id</span><span class="op">(</span><span class="va">dyad_data</span>, <span class="va">actor1</span>, <span class="va">actor2</span>, time <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-dyad-data">dyad_data<a class="anchor" aria-label="anchor" href="#arg-dyad-data"></a></dt>
<dd><p>A data.frame containing dyadic data with at least two columns
representing actors in each dyad. Will be coerced to data.frame if a tibble
or data.table is provided.</p></dd>


<dt id="arg-actor-">actor1<a class="anchor" aria-label="anchor" href="#arg-actor-"></a></dt>
<dd><p>Character string specifying the column name for the first actor
in each dyad.</p></dd>


<dt id="arg-actor-">actor2<a class="anchor" aria-label="anchor" href="#arg-actor-"></a></dt>
<dd><p>Character string specifying the column name for the second actor
in each dyad.</p></dd>


<dt id="arg-time">time<a class="anchor" aria-label="anchor" href="#arg-time"></a></dt>
<dd><p>Character string specifying the column name for time periods. If
provided, the time value will be appended to the symmetric ID to create
unique identifiers for each time period. Set to NULL (default) for
cross-sectional data.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A character vector of symmetric identifiers with the same length as
the number of rows in dyad_data. Each ID is formatted as:</p><ul><li><p><strong>Without time</strong>: "actor1_actor2" (alphabetically sorted)</p></li>
<li><p><strong>With time</strong>: "actor1_actor2_time" (actors alphabetically sorted)</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The function ensures symmetry by alphabetically sorting actor names before
creating the identifier. This guarantees that:</p><ul><li><p>The dyad "USA-China" receives the same ID as "China-USA"</p></li>
<li><p>The dyad "Brazil-Argentina" receives the same ID as "Argentina-Brazil"</p></li>
<li><p>Actor pairs are consistently ordered regardless of input order</p></li>
</ul><p>When a time column is specified, it's appended to the symmetric ID to maintain
unique identifiers across different time periods. This allows for proper
aggregation of longitudinal dyadic data while preserving temporal variation.</p>
    </div>
    <div class="section level2">
    <h2 id="note">Note<a class="anchor" aria-label="anchor" href="#note"></a></h2>
    <p>All actor values are converted to character strings before creating IDs to
ensure consistent sorting behavior across different data types.</p>
<p>The underscore character ("_") is used as a separator in the IDs. If your
actor names contain underscores, the IDs will still be unique but may be
harder to parse visually.</p>
<p>This function is primarily used internally by <code>aggregate_dyad</code> for efficient
symmetric aggregation, but can be used independently for creating symmetric
dyad identifiers.</p>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Shahryar Minhas</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Create example dyadic data</span></span></span>
<span class="r-in"><span><span class="va">trade_df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  from <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"USA"</span>, <span class="st">"China"</span>, <span class="st">"Russia"</span>, <span class="st">"USA"</span>, <span class="st">"Brazil"</span>, <span class="st">"Argentina"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  to <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"China"</span>, <span class="st">"USA"</span>, <span class="st">"USA"</span>, <span class="st">"Russia"</span>, <span class="st">"Argentina"</span>, <span class="st">"Brazil"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  trade_value <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">100</span>, <span class="fl">100</span>, <span class="fl">50</span>, <span class="fl">75</span>, <span class="fl">30</span>, <span class="fl">25</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  year <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2020</span>, <span class="fl">2020</span>, <span class="fl">2021</span>, <span class="fl">2021</span>, <span class="fl">2021</span>, <span class="fl">2021</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Generate symmetric IDs without time</span></span></span>
<span class="r-in"><span><span class="va">trade_df</span><span class="op">$</span><span class="va">symm_id</span> <span class="op">&lt;-</span> <span class="fu">gen_symm_id</span><span class="op">(</span><span class="va">trade_df</span>, <span class="st">"from"</span>, <span class="st">"to"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">trade_df</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"from"</span>, <span class="st">"to"</span>, <span class="st">"symm_id"</span><span class="op">)</span><span class="op">]</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        from        to          symm_id</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1       USA     China        China_USA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2     China       USA        China_USA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3    Russia       USA       Russia_USA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4       USA    Russia       Russia_USA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5    Brazil Argentina Argentina_Brazil</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6 Argentina    Brazil Argentina_Brazil</span>
<span class="r-in"><span><span class="co"># Note: USA-China and China-USA both get "China_USA"</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Generate symmetric IDs with time</span></span></span>
<span class="r-in"><span><span class="va">trade_df</span><span class="op">$</span><span class="va">symm_id_time</span> <span class="op">&lt;-</span> <span class="fu">gen_symm_id</span><span class="op">(</span><span class="va">trade_df</span>, <span class="st">"from"</span>, <span class="st">"to"</span>, <span class="st">"year"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">trade_df</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"from"</span>, <span class="st">"to"</span>, <span class="st">"year"</span>, <span class="st">"symm_id_time"</span><span class="op">)</span><span class="op">]</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        from        to year          symm_id_time</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1       USA     China 2020        China_USA_2020</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2     China       USA 2020        China_USA_2020</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3    Russia       USA 2021       Russia_USA_2021</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4       USA    Russia 2021       Russia_USA_2021</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5    Brazil Argentina 2021 Argentina_Brazil_2021</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6 Argentina    Brazil 2021 Argentina_Brazil_2021</span>
<span class="r-in"><span><span class="co"># Note: USA-China in 2020 gets "China_USA_2020"</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Use for aggregation of undirected relationships</span></span></span>
<span class="r-in"><span><span class="va">trade_df</span><span class="op">$</span><span class="va">total_trade</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/ave.html" class="external-link">ave</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="va">trade_df</span><span class="op">$</span><span class="va">trade_value</span>, </span></span>
<span class="r-in"><span>  <span class="va">trade_df</span><span class="op">$</span><span class="va">symm_id_time</span>, </span></span>
<span class="r-in"><span>  FUN <span class="op">=</span> <span class="va">sum</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">trade_df</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"symm_id_time"</span>, <span class="st">"total_trade"</span><span class="op">)</span><span class="op">]</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>            symm_id_time total_trade</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1        China_USA_2020         200</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3       Russia_USA_2021         125</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5 Argentina_Brazil_2021          55</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Example with longitudinal data</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://netify-dev.github.io/netify/">netify</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">icews</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">icews_sample</span> <span class="op">&lt;-</span> <span class="va">icews</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">100</span>, <span class="op">]</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Create symmetric IDs for conflict events</span></span></span>
<span class="r-in"><span><span class="va">icews_sample</span><span class="op">$</span><span class="va">symm_dyad</span> <span class="op">&lt;-</span> <span class="fu">gen_symm_id</span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="va">icews_sample</span>, </span></span>
<span class="r-in"><span>  actor1 <span class="op">=</span> <span class="st">"i"</span>, </span></span>
<span class="r-in"><span>  actor2 <span class="op">=</span> <span class="st">"j"</span>, </span></span>
<span class="r-in"><span>  time <span class="op">=</span> <span class="st">"year"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Check that symmetric pairs get same ID</span></span></span>
<span class="r-in"><span><span class="va">icews_sample</span><span class="op">[</span><span class="va">icews_sample</span><span class="op">$</span><span class="va">i</span> <span class="op">==</span> <span class="st">"United States"</span> <span class="op">&amp;</span> <span class="va">icews_sample</span><span class="op">$</span><span class="va">j</span> <span class="op">==</span> <span class="st">"Israel"</span>, <span class="st">"symm_dyad"</span><span class="op">]</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> character(0)</span>
<span class="r-in"><span><span class="va">icews_sample</span><span class="op">[</span><span class="va">icews_sample</span><span class="op">$</span><span class="va">i</span> <span class="op">==</span> <span class="st">"Israel"</span> <span class="op">&amp;</span> <span class="va">icews_sample</span><span class="op">$</span><span class="va">j</span> <span class="op">==</span> <span class="st">"United States"</span>, <span class="st">"symm_dyad"</span><span class="op">]</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> character(0)</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Cassy Dorff, Shahryar Minhas.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

