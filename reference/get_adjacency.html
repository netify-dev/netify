<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="get_adjacency takes in a dyadic dataset and outputs an adjacency matrix representation."><title>Converts a dyadic data into a network in various formats — get_adjacency • netify</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.11/clipboard.min.js" integrity="sha512-7O5pXpc0oCRrxk8RUfDYFgn0nO1t+jLuIOQdOMRp4APB7uZ4vSjspzp5y6YDtDs4VzUSTbWzBFZ/LKJhnyFOKw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Converts a dyadic data into a network in various formats — get_adjacency"><meta property="og:description" content="get_adjacency takes in a dyadic dataset and outputs an adjacency matrix representation."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light" data-bs-theme="light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">netify</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/workshop_demo.html">Netify Workshop</a>
  </div>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"></ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Converts a dyadic data into a network in various formats</h1>
      
      <div class="d-none name"><code>get_adjacency.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><code>get_adjacency</code> takes in a dyadic dataset and outputs an adjacency matrix representation.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">get_adjacency</span><span class="op">(</span></span>
<span>  <span class="va">dyad_data</span>,</span>
<span>  actor1 <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  actor2 <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  symmetric <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  mode <span class="op">=</span> <span class="st">"unipartite"</span>,</span>
<span>  weight <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  sum_dyads <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  diag_to_NA <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  missing_to_zero <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>dyad_data</dt>
<dd><p>a dyadic dataframe (or a tibble)</p></dd>


<dt>actor1</dt>
<dd><p>character: name of the actor 1 in dyad_data</p></dd>


<dt>actor2</dt>
<dd><p>character: name of the actor 2 in dyad_data</p></dd>


<dt>symmetric</dt>
<dd><p>logical: whether ties are symmetric, default is TRUE</p></dd>


<dt>mode</dt>
<dd><p>character: whether the network is unipartite or bipartite, default is unipartite</p></dd>


<dt>weight</dt>
<dd><p>character: name of the weighted edges variable, default is NULL</p></dd>


<dt>sum_dyads</dt>
<dd><p>logical: whether to sum up the <code>weight</code> value when there exists repeating dyads within the dataset</p></dd>


<dt>diag_to_NA</dt>
<dd><p>logical: whether diagonals should be set to NA, default is TRUE</p></dd>


<dt>missing_to_zero</dt>
<dd><p>logical: whether missing values should be set to zero, default is TRUE</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>an adjacency matrix of class netify</p>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Ha Eun Choi, Cassy Dorff, Colin Henry, Shahryar Minhas</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># load example directed event data from ICEWS</span></span></span>
<span class="r-in"><span><span class="co"># this data comes in the form of a dyadic</span></span></span>
<span class="r-in"><span><span class="co"># dataframe where all dyad pairs are listed</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">icews</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># subset to a particular year</span></span></span>
<span class="r-in"><span><span class="va">icews</span> <span class="op">&lt;-</span> <span class="va">icews</span><span class="op">[</span><span class="va">icews</span><span class="op">$</span><span class="va">year</span><span class="op">==</span><span class="st">'2010'</span>, <span class="op">]</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># generate a cross sectional, directed, and weighted network</span></span></span>
<span class="r-in"><span><span class="co"># where the weights are verbCoop</span></span></span>
<span class="r-in"><span><span class="va">icews_verbCoop</span> <span class="op">&lt;-</span> <span class="fu">get_adjacency</span><span class="op">(</span></span></span>
<span class="r-in"><span>  dyad_data<span class="op">=</span><span class="va">icews</span>, actor1<span class="op">=</span><span class="st">'i'</span>, actor2<span class="op">=</span><span class="st">'j'</span>,</span></span>
<span class="r-in"><span>  symmetric<span class="op">=</span><span class="cn">FALSE</span>, weight<span class="op">=</span><span class="st">'verbCoop'</span> <span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># generate a cross sectional, directed and weighted network</span></span></span>
<span class="r-in"><span><span class="co"># where the weights are matlConf</span></span></span>
<span class="r-in"><span><span class="va">icews_matlConf</span> <span class="op">&lt;-</span> <span class="fu">get_adjacency</span><span class="op">(</span></span></span>
<span class="r-in"><span>  dyad_data<span class="op">=</span><span class="va">icews</span>, actor1<span class="op">=</span><span class="st">'i'</span>, actor2<span class="op">=</span><span class="st">'j'</span>,</span></span>
<span class="r-in"><span>  symmetric<span class="op">=</span><span class="cn">FALSE</span>, weight<span class="op">=</span><span class="st">'matlConf'</span> <span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># another example using cow data</span></span></span>
<span class="r-in"><span><span class="co"># gathered from the peacesciencer package</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/svmiller/peacesciencer/" class="external-link">peacesciencer</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># create dyadic data set over time</span></span></span>
<span class="r-in"><span><span class="va">cow_dyads</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/peacesciencer/man/create_dyadyears.html" class="external-link">create_dyadyears</a></span><span class="op">(</span> </span></span>
<span class="r-in"><span>    subset_years <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1992</span><span class="op">:</span><span class="fl">2014</span><span class="op">)</span></span></span>
<span class="r-in"><span>    <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>    <span class="co"># add mids</span></span></span>
<span class="r-in"><span>    <span class="fu"><a href="https://rdrr.io/pkg/peacesciencer/man/add_cow_mids.html" class="external-link">add_cow_mids</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Joining with `by = join_by(ccode1, ccode2, year)`</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Joining with `by = join_by(ccode1, ccode2, year)`</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> add_cow_mids() IMPORTANT MESSAGE: By default, this function whittles dispute-year data into dyad-year data by first selecting on unique onsets. Thereafter, where duplicates remain, it whittles dispute-year data into dyad-year data in the following order: 1) retaining highest `fatality`, 2) retaining highest `hostlev`, 3) retaining highest estimated `mindur`, 4) retaining highest estimated `maxdur`, 5) retaining reciprocated over non-reciprocated observations, 6) retaining the observation with the lowest start month, and, where duplicates still remained (and they don't), 7) forcibly dropping all duplicates for observations that are otherwise very similar.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> See: http://svmiller.com/peacesciencer/articles/coerce-dispute-year-dyad-year.html</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># the cross-sections refer to the number of </span></span></span>
<span class="r-in"><span><span class="co"># conflict onsets between dyads during</span></span></span>
<span class="r-in"><span><span class="co"># the time period of the data </span></span></span>
<span class="r-in"><span><span class="va">mid_network</span> <span class="op">&lt;-</span> <span class="fu"><a href="netify.html">netify</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="va">cow_dyads</span>,</span></span>
<span class="r-in"><span>  actor1<span class="op">=</span><span class="st">'ccode1'</span>, actor2<span class="op">=</span><span class="st">'ccode2'</span>,</span></span>
<span class="r-in"><span>  weight<span class="op">=</span><span class="st">'cowmidonset'</span>, </span></span>
<span class="r-in"><span>  sum_dyads<span class="op">=</span><span class="cn">TRUE</span>, symmetric<span class="op">=</span><span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>  diag_to_NA<span class="op">=</span><span class="cn">TRUE</span>, missing_to_zero<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #BBBB00;">!</span> Warning: Converting `actor1` and/or `actor2` to character vector(s).</span>
<span class="r-in"><span><span class="va">mid_network</span> </span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BB00;">✔</span> Hello, you have created network data, yay!</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> • Cross-Sectional</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> • Unipartite</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> • Symmetric</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> • Sum of Weights from `cowmidonset`</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> • No Loops Allowed</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> • Cross-Sectional</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> • # Unique Row Actors: 196</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> • # Unique Column Actors: 196</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> • # Unique Actors: 196</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>               nLoops nEdges    density recip propNA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 cowmidonset    N/A    696 0.09513344   N/A    N/A</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> • Nodal Features: None</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> • Dyad Features: None</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> • Graph Features: None</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># now lets say that we just want to </span></span></span>
<span class="r-in"><span><span class="co"># see whether any conflict onset</span></span></span>
<span class="r-in"><span><span class="co"># occurred between a dyad during </span></span></span>
<span class="r-in"><span><span class="co"># this period and generate</span></span></span>
<span class="r-in"><span><span class="co"># a network object that represents this</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># to generate this we need to first subset</span></span></span>
<span class="r-in"><span><span class="co"># the raw data into an edge list like format</span></span></span>
<span class="r-in"><span><span class="co"># this only involves subsetting the variable</span></span></span>
<span class="r-in"><span><span class="co"># that you are using to represent edges to be</span></span></span>
<span class="r-in"><span><span class="co"># a value above zero</span></span></span>
<span class="r-in"><span><span class="va">cow_dyad_conflict_onset</span> <span class="op">&lt;-</span> <span class="va">cow_dyads</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>        <span class="va">cowmidonset</span> <span class="op">&gt;</span> <span class="fl">0</span></span></span>
<span class="r-in"><span>    <span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># then we use the netify function and </span></span></span>
<span class="r-in"><span><span class="co"># we no longer supply a weight, since the</span></span></span>
<span class="r-in"><span><span class="co"># dyads themselves are giving information about</span></span></span>
<span class="r-in"><span><span class="co"># edges that occurred and in addition we leave</span></span></span>
<span class="r-in"><span><span class="co"># sum_dyads as FALSE</span></span></span>
<span class="r-in"><span><span class="va">any_mid_network</span> <span class="op">&lt;-</span> <span class="fu"><a href="netify.html">netify</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="va">cow_dyad_conflict_onset</span>,</span></span>
<span class="r-in"><span>  actor1<span class="op">=</span><span class="st">'ccode1'</span>, actor2<span class="op">=</span><span class="st">'ccode2'</span>,</span></span>
<span class="r-in"><span>  sum_dyads<span class="op">=</span><span class="cn">FALSE</span>, symmetric<span class="op">=</span><span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>  diag_to_NA<span class="op">=</span><span class="cn">TRUE</span>, missing_to_zero<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #BBBB00;">!</span> Warning: Converting `actor1` and/or `actor2` to character vector(s).</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #BBBB00;">!</span> Warning: there are repeating dyads within time periods in the dataset. When `weight` is not supplied and `sum_dyads` is set to FALSE, edges in the outputted adjacency matrix will represent binary interactions between actors.</span>
<span class="r-in"><span><span class="va">mid_network</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BB00;">✔</span> Hello, you have created network data, yay!</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> • Cross-Sectional</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> • Unipartite</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> • Symmetric</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> • Sum of Weights from `cowmidonset`</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> • No Loops Allowed</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> • Cross-Sectional</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> • # Unique Row Actors: 196</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> • # Unique Column Actors: 196</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> • # Unique Actors: 196</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>               nLoops nEdges    density recip propNA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 cowmidonset    N/A    696 0.09513344   N/A    N/A</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> • Nodal Features: None</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> • Dyad Features: None</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> • Graph Features: None</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Cassy Dorff, Shahryar Minhas.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

    </footer></div>

  

  

  </body></html>

