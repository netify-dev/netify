<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Longitudinal variants of get_adjacency() which returns a list of adjacency matrices — get_adjacency_list • netify</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Longitudinal variants of get_adjacency() which returns a list of adjacency matrices — get_adjacency_list"><meta name="description" content="This function takes in a dyadic dataset
and outputs a list of adjacency matrices in which the actor composition in the network can vary over time."><meta property="og:description" content="This function takes in a dyadic dataset
and outputs a list of adjacency matrices in which the actor composition in the network can vary over time."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">netify</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/ego_networks.html">Netify: Ego Networks</a></li>
    <li><a class="dropdown-item" href="../articles/manual_plotting.html">Netify: Manual Plotting with ggplot2</a></li>
    <li><a class="dropdown-item" href="../articles/workshop_demo.html">Netify Workshop</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Longitudinal variants of <code>get_adjacency()</code> which returns a list of adjacency matrices</h1>

      <div class="d-none name"><code>get_adjacency_list.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function takes in a dyadic dataset
and outputs a list of adjacency matrices in which the actor composition in the network can vary over time.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">get_adjacency_list</span><span class="op">(</span></span>
<span>  <span class="va">dyad_data</span>,</span>
<span>  actor1 <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  actor2 <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  time <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  symmetric <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  mode <span class="op">=</span> <span class="st">"unipartite"</span>,</span>
<span>  weight <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  sum_dyads <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  actor_time_uniform <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  actor_pds <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  diag_to_NA <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  missing_to_zero <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-dyad-data">dyad_data<a class="anchor" aria-label="anchor" href="#arg-dyad-data"></a></dt>
<dd><p>a dyadic dataframe (or a tibble)</p></dd>


<dt id="arg-actor-">actor1<a class="anchor" aria-label="anchor" href="#arg-actor-"></a></dt>
<dd><p>character: name of the actor 1 variable in dyad_data</p></dd>


<dt id="arg-actor-">actor2<a class="anchor" aria-label="anchor" href="#arg-actor-"></a></dt>
<dd><p>character: name of the actor 2 variable in dyad_data</p></dd>


<dt id="arg-time">time<a class="anchor" aria-label="anchor" href="#arg-time"></a></dt>
<dd><p>character: name of the time variable in dyad_data, the values of the time variable itself should be numeric</p></dd>


<dt id="arg-symmetric">symmetric<a class="anchor" aria-label="anchor" href="#arg-symmetric"></a></dt>
<dd><p>logical: whether ties are symmetric, default is TRUE</p></dd>


<dt id="arg-mode">mode<a class="anchor" aria-label="anchor" href="#arg-mode"></a></dt>
<dd><p>character: whether the network is unipartite or bipartite, default is unipartite</p></dd>


<dt id="arg-weight">weight<a class="anchor" aria-label="anchor" href="#arg-weight"></a></dt>
<dd><p>character: name of the weighted edges variable, default is NULL</p></dd>


<dt id="arg-sum-dyads">sum_dyads<a class="anchor" aria-label="anchor" href="#arg-sum-dyads"></a></dt>
<dd><p>logical: whether to sum up the <code>weight</code> value when there exists repeating dyads within time periods</p></dd>


<dt id="arg-actor-time-uniform">actor_time_uniform<a class="anchor" aria-label="anchor" href="#arg-actor-time-uniform"></a></dt>
<dd><p>logical: whether to assume
actors are the same across the full time series observed in the data
TRUE means that actors are the same across the full time
series observed in the data
FALSE means that actors come in and out of the observed data and
their "existence" should be determined by the data, meaning that
their first year of existence will be determined by the time point
of their first event and their last year of existence by the
time point of their last event</p></dd>


<dt id="arg-actor-pds">actor_pds<a class="anchor" aria-label="anchor" href="#arg-actor-pds"></a></dt>
<dd><p>a data.frame indicating start and end time point for every
actor, this can be created manually (see example) or using <code>get_actor_time_info.R</code>,
if provided then choice of <code>actor_time_uniform</code> is irrelevant.</p></dd>


<dt id="arg-diag-to-na">diag_to_NA<a class="anchor" aria-label="anchor" href="#arg-diag-to-na"></a></dt>
<dd><p>logical: whether diagonals should be set to NA, default is TRUE</p></dd>


<dt id="arg-missing-to-zero">missing_to_zero<a class="anchor" aria-label="anchor" href="#arg-missing-to-zero"></a></dt>
<dd><p>logical: whether missing values should be set to zero, default is TRUE</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>a list of adjacency matrices of class netify</p>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Cassy Dorff, Ha Eun Choi, Shahryar Minhas</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># load example directed event data from ICEWS</span></span></span>
<span class="r-in"><span><span class="co"># this data comes in the form of a dyadic</span></span></span>
<span class="r-in"><span><span class="co"># dataframe where all dyad pairs are listed</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">icews</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># generate a longitudinal, directed, and weighted network</span></span></span>
<span class="r-in"><span><span class="co"># where the weights are verbConf</span></span></span>
<span class="r-in"><span><span class="co"># note that in longitudinal networks we can have all the </span></span></span>
<span class="r-in"><span><span class="co"># same actors in every year and if that's the case</span></span></span>
<span class="r-in"><span><span class="co"># we set actor_time_uniform to TRUE, in the next</span></span></span>
<span class="r-in"><span><span class="co"># example we'll show how to adjust when actors</span></span></span>
<span class="r-in"><span><span class="co"># change over time</span></span></span>
<span class="r-in"><span><span class="va">icews_verbConf</span> <span class="op">&lt;-</span> <span class="fu">get_adjacency_list</span><span class="op">(</span></span></span>
<span class="r-in"><span>  dyad_data<span class="op">=</span><span class="va">icews</span>, </span></span>
<span class="r-in"><span>  actor1<span class="op">=</span><span class="st">'i'</span>, actor2<span class="op">=</span><span class="st">'j'</span>, time<span class="op">=</span><span class="st">'year'</span>,</span></span>
<span class="r-in"><span>  actor_time_uniform<span class="op">=</span><span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>  symmetric<span class="op">=</span><span class="cn">FALSE</span>, weight<span class="op">=</span><span class="st">'verbConf'</span> <span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">icews_verbConf</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BB00;">✔</span> Hello, you have created network data, yay!</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> • Unipartite</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> • Asymmetric</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> • Weights from `verbConf`</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> • Longitudinal: 13 Periods</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> • # Unique Actors: 152</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Network Summary Statistics (averaged across time):</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>           dens miss mean recip trans</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> verbConf 0.111    0  1.5 0.831 0.374</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> • Nodal Features: None</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> • Dyad Features: None</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># another example using cow data</span></span></span>
<span class="r-in"><span><span class="co"># gathered from the peacesciencer package</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/svmiller/peacesciencer/" class="external-link">peacesciencer</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># create dyadic data set over time (NGOs)</span></span></span>
<span class="r-in"><span><span class="va">cow_dyads</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/peacesciencer/man/create_dyadyears.html" class="external-link">create_dyadyears</a></span><span class="op">(</span> </span></span>
<span class="r-in"><span>    subset_years <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1980</span><span class="op">:</span><span class="fl">2001</span><span class="op">)</span></span></span>
<span class="r-in"><span>    <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>    <span class="co"># add mids</span></span></span>
<span class="r-in"><span>    <span class="fu"><a href="https://rdrr.io/pkg/peacesciencer/man/add_cow_mids.html" class="external-link">add_cow_mids</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Joining with `by = join_by(ccode1, ccode2, year)`</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Joining with `by = join_by(ccode1, ccode2, year)`</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> add_cow_mids() IMPORTANT MESSAGE: By default, this function whittles dispute-year data into dyad-year data by first selecting on unique onsets. Thereafter, where duplicates remain, it whittles dispute-year data into dyad-year data in the following order: 1) retaining highest `fatality`, 2) retaining highest `hostlev`, 3) retaining highest estimated `mindur`, 4) retaining highest estimated `maxdur`, 5) retaining reciprocated over non-reciprocated observations, 6) retaining the observation with the lowest start month, and, where duplicates still remained (and they don't), 7) forcibly dropping all duplicates for observations that are otherwise very similar.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> See: http://svmiller.com/peacesciencer/articles/coerce-dispute-year-dyad-year.html</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># now lets create a network object in which</span></span></span>
<span class="r-in"><span><span class="co"># we generate list of networks in which the</span></span></span>
<span class="r-in"><span><span class="co"># cross-sections represent mid onset</span></span></span>
<span class="r-in"><span><span class="co"># additionally note that the raw data involves</span></span></span>
<span class="r-in"><span><span class="co"># country years in which we saw countries go in</span></span></span>
<span class="r-in"><span><span class="co"># and out of existence so we set actor_time_uniform</span></span></span>
<span class="r-in"><span><span class="co"># to FALSE</span></span></span>
<span class="r-in"><span><span class="va">mid_network</span> <span class="op">&lt;-</span> <span class="fu"><a href="netify.html">netify</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="va">cow_dyads</span>,</span></span>
<span class="r-in"><span>  actor1<span class="op">=</span><span class="st">'ccode1'</span>, actor2<span class="op">=</span><span class="st">'ccode2'</span>, time<span class="op">=</span><span class="st">'year'</span>,</span></span>
<span class="r-in"><span>  weight<span class="op">=</span><span class="st">'cowmidonset'</span>, </span></span>
<span class="r-in"><span>  actor_time_uniform<span class="op">=</span><span class="cn">FALSE</span>,</span></span>
<span class="r-in"><span>  sum_dyads<span class="op">=</span><span class="cn">FALSE</span>, symmetric<span class="op">=</span><span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>  diag_to_NA<span class="op">=</span><span class="cn">TRUE</span>, missing_to_zero<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #BBBB00;">!</span> Warning: Converting `actor1` and/or `actor2` to character vector(s).</span>
<span class="r-in"><span><span class="va">mid_network</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BB00;">✔</span> Hello, you have created network data, yay!</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> • Unipartite</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> • Symmetric</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> • Weights from `cowmidonset`</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> • Longitudinal: 22 Periods</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> • # Unique Actors: 196</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Network Summary Statistics (averaged across time):</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>              dens miss trans</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> cowmidonset 0.003    0  0.03</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> • Nodal Features: None</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> • Dyad Features: None</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># you can also supply your own set of actors</span></span></span>
<span class="r-in"><span><span class="co"># with custom start and end years using the</span></span></span>
<span class="r-in"><span><span class="co"># actor_pds argument, to use this first you </span></span></span>
<span class="r-in"><span><span class="co"># need to create a data.frame with information</span></span></span>
<span class="r-in"><span><span class="co"># about actor composition as follows</span></span></span>
<span class="r-in"><span><span class="va">actor_comp</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    actor <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">365</span>, <span class="fl">220</span>, <span class="fl">710</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    min_time <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1980</span>, <span class="fl">1980</span>, <span class="fl">1991</span>, <span class="fl">1980</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    max_time <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2001</span>, <span class="fl">2001</span>, <span class="fl">2001</span>, <span class="fl">2001</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># now pass this actor_comp object to the </span></span></span>
<span class="r-in"><span><span class="co"># actor_pds argument</span></span></span>
<span class="r-in"><span><span class="va">mid_network_subset</span> <span class="op">&lt;-</span> <span class="fu"><a href="netify.html">netify</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="va">cow_dyads</span>,</span></span>
<span class="r-in"><span>  actor1<span class="op">=</span><span class="st">'ccode1'</span>, actor2<span class="op">=</span><span class="st">'ccode2'</span>, time<span class="op">=</span><span class="st">'year'</span>,</span></span>
<span class="r-in"><span>  weight<span class="op">=</span><span class="st">'cowmidonset'</span>, </span></span>
<span class="r-in"><span>  actor_pds<span class="op">=</span><span class="va">actor_comp</span>,</span></span>
<span class="r-in"><span>  sum_dyads<span class="op">=</span><span class="cn">FALSE</span>, symmetric<span class="op">=</span><span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>  diag_to_NA<span class="op">=</span><span class="cn">TRUE</span>, missing_to_zero<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #BBBB00;">!</span> Warning: Converting `actor1` and/or `actor2` to character vector(s).</span>
<span class="r-in"><span><span class="va">mid_network_subset</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BB00;">✔</span> Hello, you have created network data, yay!</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> • Unipartite</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> • Symmetric</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> • Weights from `cowmidonset`</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> • Longitudinal: 3 Periods</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> • # Unique Actors: 4</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Network Summary Statistics (averaged across time):</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>              dens miss trans</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> cowmidonset 0.278    0     0</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> • Nodal Features: None</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> • Dyad Features: None</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Cassy Dorff, Shahryar Minhas.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

