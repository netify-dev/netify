<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Convert netify objects to amen format — netify_to_amen • netify</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Convert netify objects to amen format — netify_to_amen"><meta name="description" content="netify_to_amen (also available as to_amen)
transforms netify network objects into the data structure required by the amen
package for advanced network modeling. This enables the use of Social Relations
Models (SRM), Additive and Multiplicative Effects (AME) models, and other
network regression approaches implemented in amen."><meta property="og:description" content="netify_to_amen (also available as to_amen)
transforms netify network objects into the data structure required by the amen
package for advanced network modeling. This enables the use of Social Relations
Models (SRM), Additive and Multiplicative Effects (AME) models, and other
network regression approaches implemented in amen."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">netify</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/ego_networks.html">Netify: Ego Networks</a></li>
    <li><a class="dropdown-item" href="../articles/event_data.html">Conflict Application: Event Data</a></li>
    <li><a class="dropdown-item" href="../articles/foundations.html">Foundations</a></li>
    <li><a class="dropdown-item" href="../articles/manual_plotting.html">Netify: Manual Plotting with ggplot2</a></li>
    <li><a class="dropdown-item" href="../articles/resources.html">Helpful Resources</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/netify-dev/netify/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Convert netify objects to amen format</h1>
      <small class="dont-index">Source: <a href="https://github.com/netify-dev/netify/blob/main/R/to_amen.R" class="external-link"><code>R/to_amen.R</code></a></small>
      <div class="d-none name"><code>netify_to_amen.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><code>netify_to_amen</code> (also available as <code>to_amen</code>)
transforms netify network objects into the data structure required by the amen
package for advanced network modeling. This enables the use of Social Relations
Models (SRM), Additive and Multiplicative Effects (AME) models, and other
network regression approaches implemented in amen.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">netify_to_amen</span><span class="op">(</span><span class="va">netlet</span>, lame <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">to_amen</span><span class="op">(</span><span class="va">netlet</span>, lame <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-netlet">netlet<a class="anchor" aria-label="anchor" href="#arg-netlet"></a></dt>
<dd><p>A netify object (class "netify") containing network data. Must be
a single-layer network. For multilayer networks, first extract individual
layers using <code><a href="subset_netify.html">subset_netify</a></code>.</p></dd>


<dt id="arg-lame">lame<a class="anchor" aria-label="anchor" href="#arg-lame"></a></dt>
<dd><p>Logical. Controls the output format for longitudinal data:</p><ul><li><p><code>FALSE</code> (default): Formats output for compatibility with the
standard version of the amen package, which uses array structures</p></li>
<li><p><code>TRUE</code>: Formats output for compatibility with the netify-verse
version called lame, which supports
longitudinal network modeling with time-varying actor compositions and
other features</p></li>
</ul><p>This parameter is ignored for cross-sectional data.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>The structure of the returned list depends on the data type and <code>lame</code> parameter:</p>
<p><strong>For cross-sectional data or longitudinal with lame = FALSE (standard amen):</strong></p><dl><dt><strong>Y</strong></dt>
<dd><p>Network adjacency data as a numeric matrix or array:</p><ul><li><p>Cross-sectional: Matrix of dimensions <code>[n_actors × n_actors]</code></p></li>
<li><p>Longitudinal: Array of dimensions <code>[n_actors × n_actors × n_time]</code></p></li>
</ul><p>Contains edge weights or binary indicators. Missing edges are preserved as NA.</p></dd>

<dt><strong>Xdyad</strong></dt>
<dd><p>Dyadic covariates as an array, or NULL if none exist:</p><ul><li><p>Cross-sectional: <code>[n_actors × n_actors × n_covariates]</code></p></li>
<li><p>Longitudinal: <code>[n_actors × n_actors × n_covariates × n_time]</code></p></li>
</ul><p>Each slice contains one dyadic covariate across all actor pairs.</p></dd>

<dt><strong>Xrow</strong></dt>
<dd><p>Sender/row actor attributes as a matrix or array, or NULL if none exist:</p><ul><li><p>Cross-sectional: <code>[n_actors × n_attributes]</code></p></li>
<li><p>Longitudinal: <code>[n_actors × n_attributes × n_time]</code></p></li>
</ul><p>Contains numeric attributes for actors when they act as senders.</p></dd>

<dt><strong>Xcol</strong></dt>
<dd><p>Receiver/column actor attributes, structured identically to Xrow.
For symmetric networks, Xcol is identical to Xrow. For bipartite networks,
contains attributes for the second mode.</p></dd>


</dl><p><strong>For longitudinal data with lame = TRUE (lame package):</strong></p><dl><dt><strong>Y</strong></dt>
<dd><p>A list of length T (time periods), where each element is an
n × n relational matrix. Actor sets can vary across time periods.</p></dd>

<dt><strong>Xdyad</strong></dt>
<dd><p>A list of length T, where each element is an n × n × pd
array of dyadic covariates, or NULL if none exist</p></dd>

<dt><strong>Xrow</strong></dt>
<dd><p>A list of length T, where each element is an n × pr matrix
of nodal row covariates, or NULL if none exist</p></dd>

<dt><strong>Xcol</strong></dt>
<dd><p>A list of length T, where each element is an n × pc matrix
of nodal column covariates, or NULL if none exist</p></dd>


</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p><strong>Variable requirements:</strong></p><ul><li><p>All nodal attributes must be numeric (integer or double)</p></li>
<li><p>Character or factor variables must be converted before using this function</p></li>
<li><p>Missing values (NA) are preserved and can be handled by amen's models</p></li>
</ul><p><strong>When to use each format:</strong></p><ul><li><p>Use <code>lame = FALSE</code> when:</p><ul><li><p>Actor composition is constant across time</p></li>
</ul></li>
<li><p>Use <code>lame = TRUE</code> when:</p><ul><li><p>Actors enter/exit the network over time</p></li>
<li><p>Want access to other features in lame</p></li>
</ul></li>
</ul></div>
    <div class="section level2">
    <h2 id="note">Note<a class="anchor" aria-label="anchor" href="#note"></a></h2>
    <p>The function performs several validation checks:</p><ul><li><p>Ensures single-layer networks (multilayer not supported)</p></li>
<li><p>Verifies all nodal attributes are numeric</p></li>
<li><p>Maintains actor ordering from the original netify object</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Ha Eun Choi, Cassy Dorff, Colin Henry, Shahryar Minhas</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Load example data</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">icews</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Create a netify object</span></span></span>
<span class="r-in"><span><span class="va">net</span> <span class="op">&lt;-</span> <span class="fu"><a href="netify.html">netify</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="va">icews</span><span class="op">[</span><span class="va">icews</span><span class="op">$</span><span class="va">year</span> <span class="op">==</span> <span class="fl">2010</span>,<span class="op">]</span>, </span></span>
<span class="r-in"><span>  actor1 <span class="op">=</span> <span class="st">'i'</span>, actor2 <span class="op">=</span> <span class="st">'j'</span>,</span></span>
<span class="r-in"><span>  symmetric <span class="op">=</span> <span class="cn">FALSE</span>, </span></span>
<span class="r-in"><span>  weight <span class="op">=</span> <span class="st">'verbCoop'</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Convert to amen format (standard)</span></span></span>
<span class="r-in"><span><span class="va">amen_data</span> <span class="op">&lt;-</span> <span class="fu">netify_to_amen</span><span class="op">(</span><span class="va">net</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">amen_data</span><span class="op">)</span>  <span class="co"># Y, Xdyad, Xrow, Xcol</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "Y"     "Xdyad" "Xrow"  "Xcol" </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="co"># For longitudinal data with time-varying composition</span></span></span>
<span class="r-in"><span><span class="va">longit_net</span> <span class="op">&lt;-</span> <span class="fu"><a href="netify.html">netify</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="va">icews</span>, </span></span>
<span class="r-in"><span>  actor1 <span class="op">=</span> <span class="st">'i'</span>, actor2 <span class="op">=</span> <span class="st">'j'</span>, time <span class="op">=</span> <span class="st">'year'</span>,</span></span>
<span class="r-in"><span>  symmetric <span class="op">=</span> <span class="cn">FALSE</span>, </span></span>
<span class="r-in"><span>  weight <span class="op">=</span> <span class="st">'verbCoop'</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Convert to lame format</span></span></span>
<span class="r-in"><span><span class="va">lame_data</span> <span class="op">&lt;-</span> <span class="fu">netify_to_amen</span><span class="op">(</span><span class="va">longit_net</span>, lame <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Cassy Dorff, Shahryar Minhas.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

