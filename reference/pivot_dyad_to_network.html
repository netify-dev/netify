<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Pivot a dyadic variable to become the network — pivot_dyad_to_network • netify</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Pivot a dyadic variable to become the network — pivot_dyad_to_network"><meta name="description" content="pivot_dyad_to_network swaps a dyadic attribute with the main network in a netify object.
This is useful when you want to analyze a different relationship type that was stored
as a dyadic attribute. For example, if your network represents trade relationships
but you have FDI stored as a dyadic attribute, you can pivot to make FDI the main network."><meta property="og:description" content="pivot_dyad_to_network swaps a dyadic attribute with the main network in a netify object.
This is useful when you want to analyze a different relationship type that was stored
as a dyadic attribute. For example, if your network represents trade relationships
but you have FDI stored as a dyadic attribute, you can pivot to make FDI the main network."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">netify</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/foundations.html">Foundations</a></li>
    <li><a class="dropdown-item" href="../articles/event_data.html">Event Data</a></li>
    <li><a class="dropdown-item" href="../articles/attribute_analysis.html">Measuring Who Connects with Whom: Homophily &amp; Dyadic Analysis</a></li>
    <li><a class="dropdown-item" href="../articles/ego_networks.html">Ego Networks</a></li>
    <li><a class="dropdown-item" href="../articles/manual_plotting.html">Manual Plotting with ggplot2</a></li>
    <li><a class="dropdown-item" href="../articles/resources.html">Helpful Resources</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/netify-dev/netify/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Pivot a dyadic variable to become the network</h1>
      <small class="dont-index">Source: <a href="https://github.com/netify-dev/netify/blob/main/R/pivot_dyad_to_network.R" class="external-link"><code>R/pivot_dyad_to_network.R</code></a></small>
      <div class="d-none name"><code>pivot_dyad_to_network.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><code>pivot_dyad_to_network</code> swaps a dyadic attribute with the main network in a netify object.
This is useful when you want to analyze a different relationship type that was stored
as a dyadic attribute. For example, if your network represents trade relationships
but you have FDI stored as a dyadic attribute, you can pivot to make FDI the main network.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">pivot_dyad_to_network</span><span class="op">(</span></span>
<span>  <span class="va">netlet</span>,</span>
<span>  <span class="va">dyad_var</span>,</span>
<span>  make_network_dyad_var <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  network_var_name <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  symmetric <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  weight_type <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  diag_to_NA <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  missing_to_zero <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-netlet">netlet<a class="anchor" aria-label="anchor" href="#arg-netlet"></a></dt>
<dd><p>A netify object containing the network and dyadic attributes</p></dd>


<dt id="arg-dyad-var">dyad_var<a class="anchor" aria-label="anchor" href="#arg-dyad-var"></a></dt>
<dd><p>Character string naming the dyadic variable to become the new network.
Must exist in the netlet's dyad_data attribute.</p></dd>


<dt id="arg-make-network-dyad-var">make_network_dyad_var<a class="anchor" aria-label="anchor" href="#arg-make-network-dyad-var"></a></dt>
<dd><p>Logical. If TRUE (default), the current network
will be preserved as a dyadic attribute.</p></dd>


<dt id="arg-network-var-name">network_var_name<a class="anchor" aria-label="anchor" href="#arg-network-var-name"></a></dt>
<dd><p>Character string specifying the name for the old network
when converted to a dyadic attribute. If NULL (default), uses the current
weight attribute name if available, otherwise "old_network".</p></dd>


<dt id="arg-symmetric">symmetric<a class="anchor" aria-label="anchor" href="#arg-symmetric"></a></dt>
<dd><p>Logical or NULL. Specifies whether the new network should be
treated as symmetric. If NULL (default), attempts to detect from the dyadic
variable's symmetry setting or data structure.</p></dd>


<dt id="arg-weight-type">weight_type<a class="anchor" aria-label="anchor" href="#arg-weight-type"></a></dt>
<dd><p>Character string describing the type of weight for the new
network (e.g., "trade_volume", "fdi_amount"). If NULL (default), uses the
dyad_var name.</p></dd>


<dt id="arg-diag-to-na">diag_to_NA<a class="anchor" aria-label="anchor" href="#arg-diag-to-na"></a></dt>
<dd><p>Logical. Whether to set diagonal values to NA in the new
network. If NULL (default), inherits from the original netlet.</p></dd>


<dt id="arg-missing-to-zero">missing_to_zero<a class="anchor" aria-label="anchor" href="#arg-missing-to-zero"></a></dt>
<dd><p>Logical. Whether to treat missing values as zeros in
the new network. If NULL (default), inherits from the original netlet.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A netify object with the dyadic variable as the main network and
(optionally) the old network preserved as a dyadic attribute. All other
attributes and dyadic variables are preserved.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The function handles different netify types appropriately:</p><ul><li><p>For cross-sectional networks: performs a simple matrix swap</p></li>
<li><p>For longitudinal arrays: swaps matrices across all time periods</p></li>
<li><p>For longitudinal lists: swaps matrices for each time period</p></li>
<li><p>For multilayer networks: swaps within each layer</p></li>
</ul><p>When the new network has different properties than the original (e.g., different
symmetry or weight type), the function updates the netify attributes accordingly.
For bipartite networks, the new network is always treated as asymmetric.</p>
<p>If the dyadic variable was originally specified with symmetry information via
<code><a href="add_dyad_vars.html">add_dyad_vars()</a></code>, that information is used unless overridden by the symmetric
parameter.</p>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Shahryar Minhas</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Load example data</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">icews</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Create a netify object with verbal cooperation as the main network</span></span></span>
<span class="r-in"><span><span class="co"># and material cooperation as a dyadic attribute</span></span></span>
<span class="r-in"><span><span class="va">icews_10</span> <span class="op">&lt;-</span> <span class="va">icews</span><span class="op">[</span><span class="va">icews</span><span class="op">$</span><span class="va">year</span> <span class="op">==</span> <span class="fl">2010</span>, <span class="op">]</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">net</span> <span class="op">&lt;-</span> <span class="fu"><a href="netify.html">netify</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="va">icews_10</span>,</span></span>
<span class="r-in"><span>    actor1 <span class="op">=</span> <span class="st">"i"</span>, actor2 <span class="op">=</span> <span class="st">"j"</span>,</span></span>
<span class="r-in"><span>    symmetric <span class="op">=</span> <span class="cn">FALSE</span>,</span></span>
<span class="r-in"><span>    weight <span class="op">=</span> <span class="st">"verbCoop"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">net</span> <span class="op">&lt;-</span> <span class="fu"><a href="add_dyad_vars.html">add_dyad_vars</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="va">net</span>,</span></span>
<span class="r-in"><span>    <span class="va">icews_10</span>,</span></span>
<span class="r-in"><span>    actor1 <span class="op">=</span> <span class="st">"i"</span>, actor2 <span class="op">=</span> <span class="st">"j"</span>,</span></span>
<span class="r-in"><span>    dyad_vars <span class="op">=</span> <span class="st">"matlCoop"</span>,</span></span>
<span class="r-in"><span>    dyad_vars_symmetric <span class="op">=</span> <span class="cn">FALSE</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Check the current network</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">net</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BB00;">✔</span> Hello, you have created network data, yay!</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> • Unipartite</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> • Asymmetric</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> • Weights from `verbCoop`</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> • Cross-Sectional</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> • # Unique Actors: 152</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Network Summary Statistics:</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>           dens miss   mean recip trans</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> verbCoop 0.432    0 18.134 0.982 0.639</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> • Nodal Features: None</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> • Dyad Features: matlCoop</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Pivot to make material cooperation the main network</span></span></span>
<span class="r-in"><span><span class="va">net_pivoted</span> <span class="op">&lt;-</span> <span class="fu">pivot_dyad_to_network</span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="va">net</span>,</span></span>
<span class="r-in"><span>    dyad_var <span class="op">=</span> <span class="st">"matlCoop"</span>,</span></span>
<span class="r-in"><span>    network_var_name <span class="op">=</span> <span class="st">"verbCoop"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">ℹ</span> Auto-detected symmetry for 'matlCoop': asymmetric</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BB00;">✔</span> Successfully pivoted 'matlCoop' to be the main network</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">ℹ</span> Previous network preserved as dyadic variable 'verbCoop'</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># The main network is now material cooperation</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">net_pivoted</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BB00;">✔</span> Hello, you have created network data, yay!</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> • Unipartite</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> • Asymmetric</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> • Weighted: matlCoop</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> • Cross-Sectional</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> • # Unique Actors: 152</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Network Summary Statistics:</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>           dens   miss  mean recip trans</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> verbCoop 0.092 -0.007 0.467 0.442 0.333</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> • Nodal Features: None</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> • Dyad Features: verbCoop</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># The old network (verbal cooperation) is preserved as a dyadic attribute</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/attr.html" class="external-link">attr</a></span><span class="op">(</span><span class="va">net_pivoted</span>, <span class="st">"dyad_data"</span><span class="op">)</span><span class="op">[[</span><span class="st">"1"</span><span class="op">]</span><span class="op">]</span><span class="op">[[</span><span class="st">"verbCoop"</span><span class="op">]</span><span class="op">]</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">5</span><span class="op">]</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             Afghanistan Albania Algeria Angola Argentina</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Afghanistan          NA       0       0      0         1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Albania               5      NA       0      0         0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Algeria               5       1      NA      8         0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Angola                0       0       6     NA         7</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Argentina             2       0       0      8        NA</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Cassy Dorff, Shahryar Minhas.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

