library(netify)
?prep_for_amen
# load packages
library(netify)
library(peacesciencer)
library(tidyverse)
# create dyadic data set over time using peacesciencer
cow_dyads <- create_dyadyears(
subset_years = c(1995:2014)
) %>%
# add mids
add_cow_mids() %>%
# add capital distance
add_capital_distance() %>%
# add democracy
add_democracy() %>%
# add gdp
add_sdp_gdp()
mid_long_network <- netify(
cow_dyads,
actor1='ccode1', actor2='ccode2', time='year',
weight='cowmidonset',
actor_time_uniform=FALSE,
sum_dyads=FALSE, symmetric=TRUE,
diag_to_NA=TRUE, missing_to_zero=FALSE,
nodal_vars = c('v2x_polyarchy1', 'v2x_polyarchy2'),
dyad_vars = c('capdist'),
dyad_vars_symmetric = c(TRUE, FALSE)
)
# create a vector of nodal data
node_data <- unique(cow_dyads[,c("ccode1", "year", "wbgdppc2011est2")])
# add nodal variable to netlet object
mid_long_network <- add_nodal(
netlet = mid_long_network,
node_data = node_data,
actor = "ccode1",
time = "year"
)
# convert to amen structure for modeling
amen_mids_model_prep <- prep_for_amen(mid_long_network)
dim(for_amen_longit$Y)
# convert to amen structure for modeling
amen_mids_prep <- prep_for_amen(mid_long_network)
dim(amen_mids_prep$Y)
# f array of dyadic attributes
dim(amen_mids_prep$Xdyad)
# array of nodal attributes for rows
dim(amen_mids_prep$Xrow)
# convert to amen structure for modeling
mids_longit_prep <- prep_for_amen(mid_long_network)
library(amen)
# core amen modeling function
amen(mids_longit_prep)
# core amen modeling function
ame(mids_longit_prep)
?ame
mids_longit_prep
# core amen modeling function
ame(mids_longit_prep$Y, mids_longit_prep$Y)
head(mids_longit_prep$Y)
range(mids_longit_prep$Y)
min(mids_longit_prep$Y)
range(cow_dyads$cowmidonset)
# core amen modeling function
ame(mids_longit_prep$Y, mids_longit_prep$Y, model=bin)
# core amen modeling function
ame(mids_longit_prep$Y, mids_longit_prep$Y, model="bin")
uninstall.package("amen")
remove.packages("amen")
install_github("s7minhas/amen")
library(devtools)
install_github("s7minhas/amen")
library(amen)
